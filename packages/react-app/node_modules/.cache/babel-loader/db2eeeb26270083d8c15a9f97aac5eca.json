{"ast":null,"code":"\"use strict\";\n\nvar _codemirror = _interopRequireDefault(require(\"codemirror\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n *  Copyright (c) 2020 GraphQL Contributors\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\n\n_codemirror.default.defineOption('jump', false, (cm, options, old) => {\n  if (old && old !== _codemirror.default.Init) {\n    const oldOnMouseOver = cm.state.jump.onMouseOver;\n\n    _codemirror.default.off(cm.getWrapperElement(), 'mouseover', oldOnMouseOver);\n\n    const oldOnMouseOut = cm.state.jump.onMouseOut;\n\n    _codemirror.default.off(cm.getWrapperElement(), 'mouseout', oldOnMouseOut);\n\n    _codemirror.default.off(document, 'keydown', cm.state.jump.onKeyDown);\n\n    delete cm.state.jump;\n  }\n\n  if (options) {\n    const state = cm.state.jump = {\n      options,\n      onMouseOver: onMouseOver.bind(null, cm),\n      onMouseOut: onMouseOut.bind(null, cm),\n      onKeyDown: onKeyDown.bind(null, cm)\n    };\n\n    _codemirror.default.on(cm.getWrapperElement(), 'mouseover', state.onMouseOver);\n\n    _codemirror.default.on(cm.getWrapperElement(), 'mouseout', state.onMouseOut);\n\n    _codemirror.default.on(document, 'keydown', state.onKeyDown);\n  }\n});\n\nfunction onMouseOver(cm, event) {\n  const target = event.target || event.srcElement;\n\n  if (target.nodeName !== 'SPAN') {\n    return;\n  }\n\n  const box = target.getBoundingClientRect();\n  const cursor = {\n    left: (box.left + box.right) / 2,\n    top: (box.top + box.bottom) / 2\n  };\n  cm.state.jump.cursor = cursor;\n\n  if (cm.state.jump.isHoldingModifier) {\n    enableJumpMode(cm);\n  }\n}\n\nfunction onMouseOut(cm) {\n  if (!cm.state.jump.isHoldingModifier && cm.state.jump.cursor) {\n    cm.state.jump.cursor = null;\n    return;\n  }\n\n  if (cm.state.jump.isHoldingModifier && cm.state.jump.marker) {\n    disableJumpMode(cm);\n  }\n}\n\nfunction onKeyDown(cm, event) {\n  if (cm.state.jump.isHoldingModifier || !isJumpModifier(event.key)) {\n    return;\n  }\n\n  cm.state.jump.isHoldingModifier = true;\n\n  if (cm.state.jump.cursor) {\n    enableJumpMode(cm);\n  }\n\n  const onKeyUp = upEvent => {\n    if (upEvent.code !== event.code) {\n      return;\n    }\n\n    cm.state.jump.isHoldingModifier = false;\n\n    if (cm.state.jump.marker) {\n      disableJumpMode(cm);\n    }\n\n    _codemirror.default.off(document, 'keyup', onKeyUp);\n\n    _codemirror.default.off(document, 'click', onClick);\n\n    cm.off('mousedown', onMouseDown);\n  };\n\n  const onClick = clickEvent => {\n    const destination = cm.state.jump.destination;\n\n    if (destination) {\n      cm.state.jump.options.onClick(destination, clickEvent);\n    }\n  };\n\n  const onMouseDown = (_, downEvent) => {\n    if (cm.state.jump.destination) {\n      downEvent.codemirrorIgnore = true;\n    }\n  };\n\n  _codemirror.default.on(document, 'keyup', onKeyUp);\n\n  _codemirror.default.on(document, 'click', onClick);\n\n  cm.on('mousedown', onMouseDown);\n}\n\nconst isMac = typeof navigator !== 'undefined' && navigator && navigator.appVersion.indexOf('Mac') !== -1;\n\nfunction isJumpModifier(key) {\n  return key === (isMac ? 'Meta' : 'Control');\n}\n\nfunction enableJumpMode(cm) {\n  if (cm.state.jump.marker) {\n    return;\n  }\n\n  const cursor = cm.state.jump.cursor;\n  const pos = cm.coordsChar(cursor);\n  const token = cm.getTokenAt(pos, true);\n  const options = cm.state.jump.options;\n  const getDestination = options.getDestination || cm.getHelper(pos, 'jump');\n\n  if (getDestination) {\n    const destination = getDestination(token, options, cm);\n\n    if (destination) {\n      const marker = cm.markText({\n        line: pos.line,\n        ch: token.start\n      }, {\n        line: pos.line,\n        ch: token.end\n      }, {\n        className: 'CodeMirror-jump-token'\n      });\n      cm.state.jump.marker = marker;\n      cm.state.jump.destination = destination;\n    }\n  }\n}\n\nfunction disableJumpMode(cm) {\n  const marker = cm.state.jump.marker;\n  cm.state.jump.marker = null;\n  cm.state.jump.destination = null;\n  marker.clear();\n}","map":{"version":3,"sources":["/home/dylan/scaffold-eth/node_modules/codemirror-graphql/utils/jump-addon.js"],"names":["_codemirror","_interopRequireDefault","require","obj","__esModule","default","defineOption","cm","options","old","Init","oldOnMouseOver","state","jump","onMouseOver","off","getWrapperElement","oldOnMouseOut","onMouseOut","document","onKeyDown","bind","on","event","target","srcElement","nodeName","box","getBoundingClientRect","cursor","left","right","top","bottom","isHoldingModifier","enableJumpMode","marker","disableJumpMode","isJumpModifier","key","onKeyUp","upEvent","code","onClick","onMouseDown","clickEvent","destination","_","downEvent","codemirrorIgnore","isMac","navigator","appVersion","indexOf","pos","coordsChar","token","getTokenAt","getDestination","getHelper","markText","line","ch","start","end","className","clear"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _codemirror = _interopRequireDefault(require(\"codemirror\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *  Copyright (c) 2020 GraphQL Contributors\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n_codemirror.default.defineOption('jump', false, (cm, options, old) => {\n  if (old && old !== _codemirror.default.Init) {\n    const oldOnMouseOver = cm.state.jump.onMouseOver;\n\n    _codemirror.default.off(cm.getWrapperElement(), 'mouseover', oldOnMouseOver);\n\n    const oldOnMouseOut = cm.state.jump.onMouseOut;\n\n    _codemirror.default.off(cm.getWrapperElement(), 'mouseout', oldOnMouseOut);\n\n    _codemirror.default.off(document, 'keydown', cm.state.jump.onKeyDown);\n\n    delete cm.state.jump;\n  }\n\n  if (options) {\n    const state = cm.state.jump = {\n      options,\n      onMouseOver: onMouseOver.bind(null, cm),\n      onMouseOut: onMouseOut.bind(null, cm),\n      onKeyDown: onKeyDown.bind(null, cm)\n    };\n\n    _codemirror.default.on(cm.getWrapperElement(), 'mouseover', state.onMouseOver);\n\n    _codemirror.default.on(cm.getWrapperElement(), 'mouseout', state.onMouseOut);\n\n    _codemirror.default.on(document, 'keydown', state.onKeyDown);\n  }\n});\n\nfunction onMouseOver(cm, event) {\n  const target = event.target || event.srcElement;\n\n  if (target.nodeName !== 'SPAN') {\n    return;\n  }\n\n  const box = target.getBoundingClientRect();\n  const cursor = {\n    left: (box.left + box.right) / 2,\n    top: (box.top + box.bottom) / 2\n  };\n  cm.state.jump.cursor = cursor;\n\n  if (cm.state.jump.isHoldingModifier) {\n    enableJumpMode(cm);\n  }\n}\n\nfunction onMouseOut(cm) {\n  if (!cm.state.jump.isHoldingModifier && cm.state.jump.cursor) {\n    cm.state.jump.cursor = null;\n    return;\n  }\n\n  if (cm.state.jump.isHoldingModifier && cm.state.jump.marker) {\n    disableJumpMode(cm);\n  }\n}\n\nfunction onKeyDown(cm, event) {\n  if (cm.state.jump.isHoldingModifier || !isJumpModifier(event.key)) {\n    return;\n  }\n\n  cm.state.jump.isHoldingModifier = true;\n\n  if (cm.state.jump.cursor) {\n    enableJumpMode(cm);\n  }\n\n  const onKeyUp = upEvent => {\n    if (upEvent.code !== event.code) {\n      return;\n    }\n\n    cm.state.jump.isHoldingModifier = false;\n\n    if (cm.state.jump.marker) {\n      disableJumpMode(cm);\n    }\n\n    _codemirror.default.off(document, 'keyup', onKeyUp);\n\n    _codemirror.default.off(document, 'click', onClick);\n\n    cm.off('mousedown', onMouseDown);\n  };\n\n  const onClick = clickEvent => {\n    const destination = cm.state.jump.destination;\n\n    if (destination) {\n      cm.state.jump.options.onClick(destination, clickEvent);\n    }\n  };\n\n  const onMouseDown = (_, downEvent) => {\n    if (cm.state.jump.destination) {\n      downEvent.codemirrorIgnore = true;\n    }\n  };\n\n  _codemirror.default.on(document, 'keyup', onKeyUp);\n\n  _codemirror.default.on(document, 'click', onClick);\n\n  cm.on('mousedown', onMouseDown);\n}\n\nconst isMac = typeof navigator !== 'undefined' && navigator && navigator.appVersion.indexOf('Mac') !== -1;\n\nfunction isJumpModifier(key) {\n  return key === (isMac ? 'Meta' : 'Control');\n}\n\nfunction enableJumpMode(cm) {\n  if (cm.state.jump.marker) {\n    return;\n  }\n\n  const cursor = cm.state.jump.cursor;\n  const pos = cm.coordsChar(cursor);\n  const token = cm.getTokenAt(pos, true);\n  const options = cm.state.jump.options;\n  const getDestination = options.getDestination || cm.getHelper(pos, 'jump');\n\n  if (getDestination) {\n    const destination = getDestination(token, options, cm);\n\n    if (destination) {\n      const marker = cm.markText({\n        line: pos.line,\n        ch: token.start\n      }, {\n        line: pos.line,\n        ch: token.end\n      }, {\n        className: 'CodeMirror-jump-token'\n      });\n      cm.state.jump.marker = marker;\n      cm.state.jump.destination = destination;\n    }\n  }\n}\n\nfunction disableJumpMode(cm) {\n  const marker = cm.state.jump.marker;\n  cm.state.jump.marker = null;\n  cm.state.jump.destination = null;\n  marker.clear();\n}"]},"metadata":{},"sourceType":"script"}