{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _rcUpload = _interopRequireDefault(require(\"rc-upload\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _Dragger = _interopRequireDefault(require(\"./Dragger\"));\n\nvar _UploadList = _interopRequireDefault(require(\"./UploadList\"));\n\nvar _utils = require(\"./utils\");\n\nvar _LocaleReceiver = _interopRequireDefault(require(\"../locale-provider/LocaleReceiver\"));\n\nvar _default2 = _interopRequireDefault(require(\"../locale/default\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _devWarning = _interopRequireDefault(require(\"../_util/devWarning\"));\n\nvar _useForceUpdate = _interopRequireDefault(require(\"../_util/hooks/useForceUpdate\"));\n\nvar _useFreshState3 = _interopRequireDefault(require(\"./useFreshState\"));\n\nvar InternalUpload = function InternalUpload(props, ref) {\n  var _classNames2;\n\n  var fileListProp = props.fileList,\n      defaultFileList = props.defaultFileList,\n      onRemove = props.onRemove,\n      showUploadList = props.showUploadList,\n      listType = props.listType,\n      onPreview = props.onPreview,\n      onDownload = props.onDownload,\n      previewFile = props.previewFile,\n      disabled = props.disabled,\n      propLocale = props.locale,\n      iconRender = props.iconRender,\n      isImageUrl = props.isImageUrl,\n      progress = props.progress,\n      customizePrefixCls = props.prefixCls,\n      className = props.className,\n      type = props.type,\n      children = props.children,\n      style = props.style,\n      itemRender = props.itemRender;\n\n  var _React$useState = React.useState('drop'),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      dragState = _React$useState2[0],\n      setDragState = _React$useState2[1];\n\n  var forceUpdate = (0, _useForceUpdate[\"default\"])(); // Refresh always use fresh data\n\n  var _useFreshState = (0, _useFreshState3[\"default\"])(fileListProp || defaultFileList || [], fileListProp),\n      _useFreshState2 = (0, _slicedToArray2[\"default\"])(_useFreshState, 2),\n      getFileList = _useFreshState2[0],\n      setFileList = _useFreshState2[1];\n\n  var upload = React.useRef();\n  React.useEffect(function () {\n    (0, _devWarning[\"default\"])('fileList' in props || !('value' in props), 'Upload', '`value` is not a valid prop, do you mean `fileList`?');\n  }, []);\n\n  var onChange = function onChange(info) {\n    setFileList(info.fileList);\n    var onChangeProp = props.onChange;\n\n    if (onChangeProp) {\n      onChangeProp((0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, info), {\n        fileList: (0, _toConsumableArray2[\"default\"])(info.fileList)\n      }));\n    }\n  };\n\n  var onStart = function onStart(file) {\n    var targetItem = (0, _utils.fileToObject)(file);\n    targetItem.status = 'uploading';\n    var nextFileList = getFileList().concat();\n    var fileIndex = nextFileList.findIndex(function (_ref) {\n      var uid = _ref.uid;\n      return uid === targetItem.uid;\n    });\n\n    if (fileIndex === -1) {\n      nextFileList.push(targetItem);\n    } else {\n      nextFileList[fileIndex] = targetItem;\n    }\n\n    onChange({\n      file: targetItem,\n      fileList: nextFileList\n    });\n  };\n\n  var onSuccess = function onSuccess(response, file, xhr) {\n    try {\n      if (typeof response === 'string') {\n        response = JSON.parse(response);\n      }\n    } catch (e) {\n      /* do nothing */\n    }\n\n    var targetItem = (0, _utils.getFileItem)(file, getFileList()); // removed\n\n    if (!targetItem) {\n      return;\n    }\n\n    targetItem.status = 'done';\n    targetItem.response = response;\n    targetItem.xhr = xhr;\n    onChange({\n      file: (0, _extends2[\"default\"])({}, targetItem),\n      fileList: getFileList().concat()\n    });\n  };\n\n  var onProgress = function onProgress(e, file) {\n    var targetItem = (0, _utils.getFileItem)(file, getFileList()); // removed\n\n    if (!targetItem) {\n      return;\n    }\n\n    targetItem.percent = e.percent;\n    onChange({\n      event: e,\n      file: (0, _extends2[\"default\"])({}, targetItem),\n      fileList: getFileList().concat()\n    });\n  };\n\n  var onError = function onError(error, response, file) {\n    var targetItem = (0, _utils.getFileItem)(file, getFileList()); // removed\n\n    if (!targetItem) {\n      return;\n    }\n\n    targetItem.error = error;\n    targetItem.response = response;\n    targetItem.status = 'error';\n    onChange({\n      file: (0, _extends2[\"default\"])({}, targetItem),\n      fileList: getFileList().concat()\n    });\n  };\n\n  var handleRemove = function handleRemove(file) {\n    Promise.resolve(typeof onRemove === 'function' ? onRemove(file) : onRemove).then(function (ret) {\n      // Prevent removing file\n      if (ret === false) {\n        return;\n      }\n\n      var removedFileList = (0, _utils.removeFileItem)(file, getFileList());\n\n      if (removedFileList) {\n        file.status = 'removed';\n\n        if (upload.current) {\n          upload.current.abort(file);\n        }\n\n        onChange({\n          file: file,\n          fileList: removedFileList\n        });\n      }\n    });\n  };\n\n  var onFileDrop = function onFileDrop(e) {\n    setDragState(e.type);\n  };\n\n  var beforeUpload = function beforeUpload(file, fileListArgs) {\n    var beforeUploadProp = props.beforeUpload;\n\n    if (!beforeUploadProp) {\n      return true;\n    }\n\n    var result = beforeUploadProp(file, fileListArgs);\n\n    if (result === false) {\n      // Get unique file list\n      var uniqueList = [];\n      getFileList().concat(fileListArgs.map(_utils.fileToObject)).forEach(function (f) {\n        if (uniqueList.every(function (uf) {\n          return uf.uid !== f.uid;\n        })) {\n          uniqueList.push(f);\n        }\n      });\n      onChange({\n        file: file,\n        fileList: uniqueList\n      });\n      return false;\n    }\n\n    if (result && result.then) {\n      return result;\n    }\n\n    return true;\n  }; // Test needs\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      onStart: onStart,\n      onSuccess: onSuccess,\n      onProgress: onProgress,\n      onError: onError,\n      fileList: getFileList(),\n      upload: upload.current,\n      forceUpdate: forceUpdate\n    };\n  });\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('upload', customizePrefixCls);\n  var rcUploadProps = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({\n    onStart: onStart,\n    onError: onError,\n    onProgress: onProgress,\n    onSuccess: onSuccess\n  }, props), {\n    prefixCls: prefixCls,\n    beforeUpload: beforeUpload\n  });\n  delete rcUploadProps.className;\n  delete rcUploadProps.style; // Remove id to avoid open by label when trigger is hidden\n  // !children: https://github.com/ant-design/ant-design/issues/14298\n  // disabled: https://github.com/ant-design/ant-design/issues/16478\n  //           https://github.com/ant-design/ant-design/issues/24197\n\n  if (!children || disabled) {\n    delete rcUploadProps.id;\n  }\n\n  var renderUploadList = function renderUploadList(button) {\n    return showUploadList ? /*#__PURE__*/React.createElement(_LocaleReceiver[\"default\"], {\n      componentName: \"Upload\",\n      defaultLocale: _default2[\"default\"].Upload\n    }, function (locale) {\n      var _ref2 = typeof showUploadList === 'boolean' ? {} : showUploadList,\n          showRemoveIcon = _ref2.showRemoveIcon,\n          showPreviewIcon = _ref2.showPreviewIcon,\n          showDownloadIcon = _ref2.showDownloadIcon,\n          removeIcon = _ref2.removeIcon,\n          downloadIcon = _ref2.downloadIcon;\n\n      return /*#__PURE__*/React.createElement(_UploadList[\"default\"], {\n        listType: listType,\n        items: getFileList(true),\n        previewFile: previewFile,\n        onPreview: onPreview,\n        onDownload: onDownload,\n        onRemove: handleRemove,\n        showRemoveIcon: !disabled && showRemoveIcon,\n        showPreviewIcon: showPreviewIcon,\n        showDownloadIcon: showDownloadIcon,\n        removeIcon: removeIcon,\n        downloadIcon: downloadIcon,\n        iconRender: iconRender,\n        locale: (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, locale), propLocale),\n        isImageUrl: isImageUrl,\n        progress: progress,\n        appendAction: button,\n        itemRender: itemRender\n      });\n    }) : button;\n  };\n\n  if (type === 'drag') {\n    var _classNames;\n\n    var dragCls = (0, _classnames[\"default\"])(prefixCls, (_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-drag\"), true), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-drag-uploading\"), getFileList().some(function (file) {\n      return file.status === 'uploading';\n    })), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-drag-hover\"), dragState === 'dragover'), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n    return /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: dragCls,\n      onDrop: onFileDrop,\n      onDragOver: onFileDrop,\n      onDragLeave: onFileDrop,\n      style: style\n    }, /*#__PURE__*/React.createElement(_rcUpload[\"default\"], (0, _extends2[\"default\"])({}, rcUploadProps, {\n      ref: upload,\n      className: \"\".concat(prefixCls, \"-btn\")\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-drag-container\")\n    }, children))), renderUploadList());\n  }\n\n  var uploadButtonCls = (0, _classnames[\"default\"])(prefixCls, (_classNames2 = {}, (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-select\"), true), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-select-\").concat(listType), true), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-disabled\"), disabled), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2));\n  var uploadButton = /*#__PURE__*/React.createElement(\"div\", {\n    className: uploadButtonCls,\n    style: children ? undefined : {\n      display: 'none'\n    }\n  }, /*#__PURE__*/React.createElement(_rcUpload[\"default\"], (0, _extends2[\"default\"])({}, rcUploadProps, {\n    ref: upload\n  })));\n\n  if (listType === 'picture-card') {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: (0, _classnames[\"default\"])(\"\".concat(prefixCls, \"-picture-card-wrapper\"), className)\n    }, renderUploadList(uploadButton));\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: className\n  }, uploadButton, renderUploadList());\n};\n\nvar Upload = /*#__PURE__*/React.forwardRef(InternalUpload);\nUpload.Dragger = _Dragger[\"default\"];\nUpload.displayName = 'Upload';\nUpload.defaultProps = {\n  type: 'select',\n  multiple: false,\n  action: '',\n  data: {},\n  accept: '',\n  beforeUpload: _utils.T,\n  showUploadList: true,\n  listType: 'text',\n  className: '',\n  disabled: false,\n  supportServerRender: true\n};\nvar _default = Upload;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/home/dylan/Desktop/JuryDapp/node_modules/antd/lib/upload/Upload.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_defineProperty2","_toConsumableArray2","_extends2","_slicedToArray2","React","_rcUpload","_classnames","_Dragger","_UploadList","_utils","_LocaleReceiver","_default2","_configProvider","_devWarning","_useForceUpdate","_useFreshState3","InternalUpload","props","ref","_classNames2","fileListProp","fileList","defaultFileList","onRemove","showUploadList","listType","onPreview","onDownload","previewFile","disabled","propLocale","locale","iconRender","isImageUrl","progress","customizePrefixCls","prefixCls","className","type","children","style","itemRender","_React$useState","useState","_React$useState2","dragState","setDragState","forceUpdate","_useFreshState","_useFreshState2","getFileList","setFileList","upload","useRef","useEffect","onChange","info","onChangeProp","onStart","file","targetItem","fileToObject","status","nextFileList","concat","fileIndex","findIndex","_ref","uid","push","onSuccess","response","xhr","JSON","parse","e","getFileItem","onProgress","percent","event","onError","error","handleRemove","Promise","resolve","then","ret","removedFileList","removeFileItem","current","abort","onFileDrop","beforeUpload","fileListArgs","beforeUploadProp","result","uniqueList","map","forEach","f","every","uf","useImperativeHandle","_React$useContext","useContext","ConfigContext","getPrefixCls","direction","rcUploadProps","id","renderUploadList","button","createElement","componentName","defaultLocale","Upload","_ref2","showRemoveIcon","showPreviewIcon","showDownloadIcon","removeIcon","downloadIcon","items","appendAction","_classNames","dragCls","some","onDrop","onDragOver","onDragLeave","uploadButtonCls","uploadButton","undefined","display","forwardRef","Dragger","displayName","defaultProps","multiple","action","data","accept","T","supportServerRender","_default"],"mappings":"AAAA;;AAEA,IAAIA,uBAAuB,GAAGC,OAAO,CAAC,+CAAD,CAArC;;AAEA,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8CAAD,CAApC;;AAEAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;;AAEA,IAAIE,gBAAgB,GAAGL,sBAAsB,CAACD,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIO,mBAAmB,GAAGN,sBAAsB,CAACD,OAAO,CAAC,0CAAD,CAAR,CAAhD;;AAEA,IAAIQ,SAAS,GAAGP,sBAAsB,CAACD,OAAO,CAAC,gCAAD,CAAR,CAAtC;;AAEA,IAAIS,eAAe,GAAGR,sBAAsB,CAACD,OAAO,CAAC,sCAAD,CAAR,CAA5C;;AAEA,IAAIU,KAAK,GAAGX,uBAAuB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,IAAIW,SAAS,GAAGV,sBAAsB,CAACD,OAAO,CAAC,WAAD,CAAR,CAAtC;;AAEA,IAAIY,WAAW,GAAGX,sBAAsB,CAACD,OAAO,CAAC,YAAD,CAAR,CAAxC;;AAEA,IAAIa,QAAQ,GAAGZ,sBAAsB,CAACD,OAAO,CAAC,WAAD,CAAR,CAArC;;AAEA,IAAIc,WAAW,GAAGb,sBAAsB,CAACD,OAAO,CAAC,cAAD,CAAR,CAAxC;;AAEA,IAAIe,MAAM,GAAGf,OAAO,CAAC,SAAD,CAApB;;AAEA,IAAIgB,eAAe,GAAGf,sBAAsB,CAACD,OAAO,CAAC,mCAAD,CAAR,CAA5C;;AAEA,IAAIiB,SAAS,GAAGhB,sBAAsB,CAACD,OAAO,CAAC,mBAAD,CAAR,CAAtC;;AAEA,IAAIkB,eAAe,GAAGlB,OAAO,CAAC,oBAAD,CAA7B;;AAEA,IAAImB,WAAW,GAAGlB,sBAAsB,CAACD,OAAO,CAAC,qBAAD,CAAR,CAAxC;;AAEA,IAAIoB,eAAe,GAAGnB,sBAAsB,CAACD,OAAO,CAAC,+BAAD,CAAR,CAA5C;;AAEA,IAAIqB,eAAe,GAAGpB,sBAAsB,CAACD,OAAO,CAAC,iBAAD,CAAR,CAA5C;;AAEA,IAAIsB,cAAc,GAAG,SAASA,cAAT,CAAwBC,KAAxB,EAA+BC,GAA/B,EAAoC;AACvD,MAAIC,YAAJ;;AAEA,MAAIC,YAAY,GAAGH,KAAK,CAACI,QAAzB;AAAA,MACIC,eAAe,GAAGL,KAAK,CAACK,eAD5B;AAAA,MAEIC,QAAQ,GAAGN,KAAK,CAACM,QAFrB;AAAA,MAGIC,cAAc,GAAGP,KAAK,CAACO,cAH3B;AAAA,MAIIC,QAAQ,GAAGR,KAAK,CAACQ,QAJrB;AAAA,MAKIC,SAAS,GAAGT,KAAK,CAACS,SALtB;AAAA,MAMIC,UAAU,GAAGV,KAAK,CAACU,UANvB;AAAA,MAOIC,WAAW,GAAGX,KAAK,CAACW,WAPxB;AAAA,MAQIC,QAAQ,GAAGZ,KAAK,CAACY,QARrB;AAAA,MASIC,UAAU,GAAGb,KAAK,CAACc,MATvB;AAAA,MAUIC,UAAU,GAAGf,KAAK,CAACe,UAVvB;AAAA,MAWIC,UAAU,GAAGhB,KAAK,CAACgB,UAXvB;AAAA,MAYIC,QAAQ,GAAGjB,KAAK,CAACiB,QAZrB;AAAA,MAaIC,kBAAkB,GAAGlB,KAAK,CAACmB,SAb/B;AAAA,MAcIC,SAAS,GAAGpB,KAAK,CAACoB,SAdtB;AAAA,MAeIC,IAAI,GAAGrB,KAAK,CAACqB,IAfjB;AAAA,MAgBIC,QAAQ,GAAGtB,KAAK,CAACsB,QAhBrB;AAAA,MAiBIC,KAAK,GAAGvB,KAAK,CAACuB,KAjBlB;AAAA,MAkBIC,UAAU,GAAGxB,KAAK,CAACwB,UAlBvB;;AAoBA,MAAIC,eAAe,GAAGtC,KAAK,CAACuC,QAAN,CAAe,MAAf,CAAtB;AAAA,MACIC,gBAAgB,GAAG,CAAC,GAAGzC,eAAe,CAAC,SAAD,CAAnB,EAAgCuC,eAAhC,EAAiD,CAAjD,CADvB;AAAA,MAEIG,SAAS,GAAGD,gBAAgB,CAAC,CAAD,CAFhC;AAAA,MAGIE,YAAY,GAAGF,gBAAgB,CAAC,CAAD,CAHnC;;AAKA,MAAIG,WAAW,GAAG,CAAC,GAAGjC,eAAe,CAAC,SAAD,CAAnB,GAAlB,CA5BuD,CA4BF;;AAErD,MAAIkC,cAAc,GAAG,CAAC,GAAGjC,eAAe,CAAC,SAAD,CAAnB,EAAgCK,YAAY,IAAIE,eAAhB,IAAmC,EAAnE,EAAuEF,YAAvE,CAArB;AAAA,MACI6B,eAAe,GAAG,CAAC,GAAG9C,eAAe,CAAC,SAAD,CAAnB,EAAgC6C,cAAhC,EAAgD,CAAhD,CADtB;AAAA,MAEIE,WAAW,GAAGD,eAAe,CAAC,CAAD,CAFjC;AAAA,MAGIE,WAAW,GAAGF,eAAe,CAAC,CAAD,CAHjC;;AAKA,MAAIG,MAAM,GAAGhD,KAAK,CAACiD,MAAN,EAAb;AACAjD,EAAAA,KAAK,CAACkD,SAAN,CAAgB,YAAY;AAC1B,KAAC,GAAGzC,WAAW,CAAC,SAAD,CAAf,EAA4B,cAAcI,KAAd,IAAuB,EAAE,WAAWA,KAAb,CAAnD,EAAwE,QAAxE,EAAkF,sDAAlF;AACD,GAFD,EAEG,EAFH;;AAIA,MAAIsC,QAAQ,GAAG,SAASA,QAAT,CAAkBC,IAAlB,EAAwB;AACrCL,IAAAA,WAAW,CAACK,IAAI,CAACnC,QAAN,CAAX;AACA,QAAIoC,YAAY,GAAGxC,KAAK,CAACsC,QAAzB;;AAEA,QAAIE,YAAJ,EAAkB;AAChBA,MAAAA,YAAY,CAAC,CAAC,GAAGvD,SAAS,CAAC,SAAD,CAAb,EAA0B,CAAC,GAAGA,SAAS,CAAC,SAAD,CAAb,EAA0B,EAA1B,EAA8BsD,IAA9B,CAA1B,EAA+D;AAC1EnC,QAAAA,QAAQ,EAAE,CAAC,GAAGpB,mBAAmB,CAAC,SAAD,CAAvB,EAAoCuD,IAAI,CAACnC,QAAzC;AADgE,OAA/D,CAAD,CAAZ;AAGD;AACF,GATD;;AAWA,MAAIqC,OAAO,GAAG,SAASA,OAAT,CAAiBC,IAAjB,EAAuB;AACnC,QAAIC,UAAU,GAAG,CAAC,GAAGnD,MAAM,CAACoD,YAAX,EAAyBF,IAAzB,CAAjB;AACAC,IAAAA,UAAU,CAACE,MAAX,GAAoB,WAApB;AACA,QAAIC,YAAY,GAAGb,WAAW,GAAGc,MAAd,EAAnB;AACA,QAAIC,SAAS,GAAGF,YAAY,CAACG,SAAb,CAAuB,UAAUC,IAAV,EAAgB;AACrD,UAAIC,GAAG,GAAGD,IAAI,CAACC,GAAf;AACA,aAAOA,GAAG,KAAKR,UAAU,CAACQ,GAA1B;AACD,KAHe,CAAhB;;AAKA,QAAIH,SAAS,KAAK,CAAC,CAAnB,EAAsB;AACpBF,MAAAA,YAAY,CAACM,IAAb,CAAkBT,UAAlB;AACD,KAFD,MAEO;AACLG,MAAAA,YAAY,CAACE,SAAD,CAAZ,GAA0BL,UAA1B;AACD;;AAEDL,IAAAA,QAAQ,CAAC;AACPI,MAAAA,IAAI,EAAEC,UADC;AAEPvC,MAAAA,QAAQ,EAAE0C;AAFH,KAAD,CAAR;AAID,GAnBD;;AAqBA,MAAIO,SAAS,GAAG,SAASA,SAAT,CAAmBC,QAAnB,EAA6BZ,IAA7B,EAAmCa,GAAnC,EAAwC;AACtD,QAAI;AACF,UAAI,OAAOD,QAAP,KAAoB,QAAxB,EAAkC;AAChCA,QAAAA,QAAQ,GAAGE,IAAI,CAACC,KAAL,CAAWH,QAAX,CAAX;AACD;AACF,KAJD,CAIE,OAAOI,CAAP,EAAU;AACV;AACD;;AAED,QAAIf,UAAU,GAAG,CAAC,GAAGnD,MAAM,CAACmE,WAAX,EAAwBjB,IAAxB,EAA8BT,WAAW,EAAzC,CAAjB,CATsD,CASS;;AAE/D,QAAI,CAACU,UAAL,EAAiB;AACf;AACD;;AAEDA,IAAAA,UAAU,CAACE,MAAX,GAAoB,MAApB;AACAF,IAAAA,UAAU,CAACW,QAAX,GAAsBA,QAAtB;AACAX,IAAAA,UAAU,CAACY,GAAX,GAAiBA,GAAjB;AACAjB,IAAAA,QAAQ,CAAC;AACPI,MAAAA,IAAI,EAAE,CAAC,GAAGzD,SAAS,CAAC,SAAD,CAAb,EAA0B,EAA1B,EAA8B0D,UAA9B,CADC;AAEPvC,MAAAA,QAAQ,EAAE6B,WAAW,GAAGc,MAAd;AAFH,KAAD,CAAR;AAID,GAtBD;;AAwBA,MAAIa,UAAU,GAAG,SAASA,UAAT,CAAoBF,CAApB,EAAuBhB,IAAvB,EAA6B;AAC5C,QAAIC,UAAU,GAAG,CAAC,GAAGnD,MAAM,CAACmE,WAAX,EAAwBjB,IAAxB,EAA8BT,WAAW,EAAzC,CAAjB,CAD4C,CACmB;;AAE/D,QAAI,CAACU,UAAL,EAAiB;AACf;AACD;;AAEDA,IAAAA,UAAU,CAACkB,OAAX,GAAqBH,CAAC,CAACG,OAAvB;AACAvB,IAAAA,QAAQ,CAAC;AACPwB,MAAAA,KAAK,EAAEJ,CADA;AAEPhB,MAAAA,IAAI,EAAE,CAAC,GAAGzD,SAAS,CAAC,SAAD,CAAb,EAA0B,EAA1B,EAA8B0D,UAA9B,CAFC;AAGPvC,MAAAA,QAAQ,EAAE6B,WAAW,GAAGc,MAAd;AAHH,KAAD,CAAR;AAKD,GAbD;;AAeA,MAAIgB,OAAO,GAAG,SAASA,OAAT,CAAiBC,KAAjB,EAAwBV,QAAxB,EAAkCZ,IAAlC,EAAwC;AACpD,QAAIC,UAAU,GAAG,CAAC,GAAGnD,MAAM,CAACmE,WAAX,EAAwBjB,IAAxB,EAA8BT,WAAW,EAAzC,CAAjB,CADoD,CACW;;AAE/D,QAAI,CAACU,UAAL,EAAiB;AACf;AACD;;AAEDA,IAAAA,UAAU,CAACqB,KAAX,GAAmBA,KAAnB;AACArB,IAAAA,UAAU,CAACW,QAAX,GAAsBA,QAAtB;AACAX,IAAAA,UAAU,CAACE,MAAX,GAAoB,OAApB;AACAP,IAAAA,QAAQ,CAAC;AACPI,MAAAA,IAAI,EAAE,CAAC,GAAGzD,SAAS,CAAC,SAAD,CAAb,EAA0B,EAA1B,EAA8B0D,UAA9B,CADC;AAEPvC,MAAAA,QAAQ,EAAE6B,WAAW,GAAGc,MAAd;AAFH,KAAD,CAAR;AAID,GAdD;;AAgBA,MAAIkB,YAAY,GAAG,SAASA,YAAT,CAAsBvB,IAAtB,EAA4B;AAC7CwB,IAAAA,OAAO,CAACC,OAAR,CAAgB,OAAO7D,QAAP,KAAoB,UAApB,GAAiCA,QAAQ,CAACoC,IAAD,CAAzC,GAAkDpC,QAAlE,EAA4E8D,IAA5E,CAAiF,UAAUC,GAAV,EAAe;AAC9F;AACA,UAAIA,GAAG,KAAK,KAAZ,EAAmB;AACjB;AACD;;AAED,UAAIC,eAAe,GAAG,CAAC,GAAG9E,MAAM,CAAC+E,cAAX,EAA2B7B,IAA3B,EAAiCT,WAAW,EAA5C,CAAtB;;AAEA,UAAIqC,eAAJ,EAAqB;AACnB5B,QAAAA,IAAI,CAACG,MAAL,GAAc,SAAd;;AAEA,YAAIV,MAAM,CAACqC,OAAX,EAAoB;AAClBrC,UAAAA,MAAM,CAACqC,OAAP,CAAeC,KAAf,CAAqB/B,IAArB;AACD;;AAEDJ,QAAAA,QAAQ,CAAC;AACPI,UAAAA,IAAI,EAAEA,IADC;AAEPtC,UAAAA,QAAQ,EAAEkE;AAFH,SAAD,CAAR;AAID;AACF,KApBD;AAqBD,GAtBD;;AAwBA,MAAII,UAAU,GAAG,SAASA,UAAT,CAAoBhB,CAApB,EAAuB;AACtC7B,IAAAA,YAAY,CAAC6B,CAAC,CAACrC,IAAH,CAAZ;AACD,GAFD;;AAIA,MAAIsD,YAAY,GAAG,SAASA,YAAT,CAAsBjC,IAAtB,EAA4BkC,YAA5B,EAA0C;AAC3D,QAAIC,gBAAgB,GAAG7E,KAAK,CAAC2E,YAA7B;;AAEA,QAAI,CAACE,gBAAL,EAAuB;AACrB,aAAO,IAAP;AACD;;AAED,QAAIC,MAAM,GAAGD,gBAAgB,CAACnC,IAAD,EAAOkC,YAAP,CAA7B;;AAEA,QAAIE,MAAM,KAAK,KAAf,EAAsB;AACpB;AACA,UAAIC,UAAU,GAAG,EAAjB;AACA9C,MAAAA,WAAW,GAAGc,MAAd,CAAqB6B,YAAY,CAACI,GAAb,CAAiBxF,MAAM,CAACoD,YAAxB,CAArB,EAA4DqC,OAA5D,CAAoE,UAAUC,CAAV,EAAa;AAC/E,YAAIH,UAAU,CAACI,KAAX,CAAiB,UAAUC,EAAV,EAAc;AACjC,iBAAOA,EAAE,CAACjC,GAAH,KAAW+B,CAAC,CAAC/B,GAApB;AACD,SAFG,CAAJ,EAEI;AACF4B,UAAAA,UAAU,CAAC3B,IAAX,CAAgB8B,CAAhB;AACD;AACF,OAND;AAOA5C,MAAAA,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEA,IADC;AAEPtC,QAAAA,QAAQ,EAAE2E;AAFH,OAAD,CAAR;AAIA,aAAO,KAAP;AACD;;AAED,QAAID,MAAM,IAAIA,MAAM,CAACV,IAArB,EAA2B;AACzB,aAAOU,MAAP;AACD;;AAED,WAAO,IAAP;AACD,GA/BD,CA3JuD,CA0LpD;;;AAGH3F,EAAAA,KAAK,CAACkG,mBAAN,CAA0BpF,GAA1B,EAA+B,YAAY;AACzC,WAAO;AACLwC,MAAAA,OAAO,EAAEA,OADJ;AAELY,MAAAA,SAAS,EAAEA,SAFN;AAGLO,MAAAA,UAAU,EAAEA,UAHP;AAILG,MAAAA,OAAO,EAAEA,OAJJ;AAKL3D,MAAAA,QAAQ,EAAE6B,WAAW,EALhB;AAMLE,MAAAA,MAAM,EAAEA,MAAM,CAACqC,OANV;AAOL1C,MAAAA,WAAW,EAAEA;AAPR,KAAP;AASD,GAVD;;AAYA,MAAIwD,iBAAiB,GAAGnG,KAAK,CAACoG,UAAN,CAAiB5F,eAAe,CAAC6F,aAAjC,CAAxB;AAAA,MACIC,YAAY,GAAGH,iBAAiB,CAACG,YADrC;AAAA,MAEIC,SAAS,GAAGJ,iBAAiB,CAACI,SAFlC;;AAIA,MAAIvE,SAAS,GAAGsE,YAAY,CAAC,QAAD,EAAWvE,kBAAX,CAA5B;AACA,MAAIyE,aAAa,GAAG,CAAC,GAAG1G,SAAS,CAAC,SAAD,CAAb,EAA0B,CAAC,GAAGA,SAAS,CAAC,SAAD,CAAb,EAA0B;AACtEwD,IAAAA,OAAO,EAAEA,OAD6D;AAEtEsB,IAAAA,OAAO,EAAEA,OAF6D;AAGtEH,IAAAA,UAAU,EAAEA,UAH0D;AAItEP,IAAAA,SAAS,EAAEA;AAJ2D,GAA1B,EAK3CrD,KAL2C,CAA1B,EAKT;AACTmB,IAAAA,SAAS,EAAEA,SADF;AAETwD,IAAAA,YAAY,EAAEA;AAFL,GALS,CAApB;AASA,SAAOgB,aAAa,CAACvE,SAArB;AACA,SAAOuE,aAAa,CAACpE,KAArB,CAxNuD,CAwN3B;AAC5B;AACA;AACA;;AAEA,MAAI,CAACD,QAAD,IAAaV,QAAjB,EAA2B;AACzB,WAAO+E,aAAa,CAACC,EAArB;AACD;;AAED,MAAIC,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,MAA1B,EAAkC;AACvD,WAAOvF,cAAc,GAAG,aAAapB,KAAK,CAAC4G,aAAN,CAAoBtG,eAAe,CAAC,SAAD,CAAnC,EAAgD;AACnFuG,MAAAA,aAAa,EAAE,QADoE;AAEnFC,MAAAA,aAAa,EAAEvG,SAAS,CAAC,SAAD,CAAT,CAAqBwG;AAF+C,KAAhD,EAGlC,UAAUpF,MAAV,EAAkB;AACnB,UAAIqF,KAAK,GAAG,OAAO5F,cAAP,KAA0B,SAA1B,GAAsC,EAAtC,GAA2CA,cAAvD;AAAA,UACI6F,cAAc,GAAGD,KAAK,CAACC,cAD3B;AAAA,UAEIC,eAAe,GAAGF,KAAK,CAACE,eAF5B;AAAA,UAGIC,gBAAgB,GAAGH,KAAK,CAACG,gBAH7B;AAAA,UAIIC,UAAU,GAAGJ,KAAK,CAACI,UAJvB;AAAA,UAKIC,YAAY,GAAGL,KAAK,CAACK,YALzB;;AAOA,aAAO,aAAarH,KAAK,CAAC4G,aAAN,CAAoBxG,WAAW,CAAC,SAAD,CAA/B,EAA4C;AAC9DiB,QAAAA,QAAQ,EAAEA,QADoD;AAE9DiG,QAAAA,KAAK,EAAExE,WAAW,CAAC,IAAD,CAF4C;AAG9DtB,QAAAA,WAAW,EAAEA,WAHiD;AAI9DF,QAAAA,SAAS,EAAEA,SAJmD;AAK9DC,QAAAA,UAAU,EAAEA,UALkD;AAM9DJ,QAAAA,QAAQ,EAAE2D,YANoD;AAO9DmC,QAAAA,cAAc,EAAE,CAACxF,QAAD,IAAawF,cAPiC;AAQ9DC,QAAAA,eAAe,EAAEA,eAR6C;AAS9DC,QAAAA,gBAAgB,EAAEA,gBAT4C;AAU9DC,QAAAA,UAAU,EAAEA,UAVkD;AAW9DC,QAAAA,YAAY,EAAEA,YAXgD;AAY9DzF,QAAAA,UAAU,EAAEA,UAZkD;AAa9DD,QAAAA,MAAM,EAAE,CAAC,GAAG7B,SAAS,CAAC,SAAD,CAAb,EAA0B,CAAC,GAAGA,SAAS,CAAC,SAAD,CAAb,EAA0B,EAA1B,EAA8B6B,MAA9B,CAA1B,EAAiED,UAAjE,CAbsD;AAc9DG,QAAAA,UAAU,EAAEA,UAdkD;AAe9DC,QAAAA,QAAQ,EAAEA,QAfoD;AAgB9DyF,QAAAA,YAAY,EAAEZ,MAhBgD;AAiB9DtE,QAAAA,UAAU,EAAEA;AAjBkD,OAA5C,CAApB;AAmBD,KA9BoC,CAAhB,GA8BhBsE,MA9BL;AA+BD,GAhCD;;AAkCA,MAAIzE,IAAI,KAAK,MAAb,EAAqB;AACnB,QAAIsF,WAAJ;;AAEA,QAAIC,OAAO,GAAG,CAAC,GAAGvH,WAAW,CAAC,SAAD,CAAf,EAA4B8B,SAA5B,GAAwCwF,WAAW,GAAG,EAAd,EAAkB,CAAC,GAAG5H,gBAAgB,CAAC,SAAD,CAApB,EAAiC4H,WAAjC,EAA8C,GAAG5D,MAAH,CAAU5B,SAAV,EAAqB,OAArB,CAA9C,EAA6E,IAA7E,CAAlB,EAAsG,CAAC,GAAGpC,gBAAgB,CAAC,SAAD,CAApB,EAAiC4H,WAAjC,EAA8C,GAAG5D,MAAH,CAAU5B,SAAV,EAAqB,iBAArB,CAA9C,EAAuFc,WAAW,GAAG4E,IAAd,CAAmB,UAAUnE,IAAV,EAAgB;AACpR,aAAOA,IAAI,CAACG,MAAL,KAAgB,WAAvB;AACD,KAFkP,CAAvF,CAAtG,EAEjD,CAAC,GAAG9D,gBAAgB,CAAC,SAAD,CAApB,EAAiC4H,WAAjC,EAA8C,GAAG5D,MAAH,CAAU5B,SAAV,EAAqB,aAArB,CAA9C,EAAmFS,SAAS,KAAK,UAAjG,CAFiD,EAE6D,CAAC,GAAG7C,gBAAgB,CAAC,SAAD,CAApB,EAAiC4H,WAAjC,EAA8C,GAAG5D,MAAH,CAAU5B,SAAV,EAAqB,WAArB,CAA9C,EAAiFP,QAAjF,CAF7D,EAEyJ,CAAC,GAAG7B,gBAAgB,CAAC,SAAD,CAApB,EAAiC4H,WAAjC,EAA8C,GAAG5D,MAAH,CAAU5B,SAAV,EAAqB,MAArB,CAA9C,EAA4EuE,SAAS,KAAK,KAA1F,CAFzJ,EAE2PiB,WAFnS,GAEiTvF,SAFjT,CAAd;AAGA,WAAO,aAAajC,KAAK,CAAC4G,aAAN,CAAoB,MAApB,EAA4B,IAA5B,EAAkC,aAAa5G,KAAK,CAAC4G,aAAN,CAAoB,KAApB,EAA2B;AAC5F3E,MAAAA,SAAS,EAAEwF,OADiF;AAE5FE,MAAAA,MAAM,EAAEpC,UAFoF;AAG5FqC,MAAAA,UAAU,EAAErC,UAHgF;AAI5FsC,MAAAA,WAAW,EAAEtC,UAJ+E;AAK5FnD,MAAAA,KAAK,EAAEA;AALqF,KAA3B,EAMhE,aAAapC,KAAK,CAAC4G,aAAN,CAAoB3G,SAAS,CAAC,SAAD,CAA7B,EAA0C,CAAC,GAAGH,SAAS,CAAC,SAAD,CAAb,EAA0B,EAA1B,EAA8B0G,aAA9B,EAA6C;AACrG1F,MAAAA,GAAG,EAAEkC,MADgG;AAErGf,MAAAA,SAAS,EAAE,GAAG2B,MAAH,CAAU5B,SAAV,EAAqB,MAArB;AAF0F,KAA7C,CAA1C,EAGZ,aAAahC,KAAK,CAAC4G,aAAN,CAAoB,KAApB,EAA2B;AAC1C3E,MAAAA,SAAS,EAAE,GAAG2B,MAAH,CAAU5B,SAAV,EAAqB,iBAArB;AAD+B,KAA3B,EAEdG,QAFc,CAHD,CANmD,CAA/C,EAWJuE,gBAAgB,EAXZ,CAApB;AAYD;;AAED,MAAIoB,eAAe,GAAG,CAAC,GAAG5H,WAAW,CAAC,SAAD,CAAf,EAA4B8B,SAA5B,GAAwCjB,YAAY,GAAG,EAAf,EAAmB,CAAC,GAAGnB,gBAAgB,CAAC,SAAD,CAApB,EAAiCmB,YAAjC,EAA+C,GAAG6C,MAAH,CAAU5B,SAAV,EAAqB,SAArB,CAA/C,EAAgF,IAAhF,CAAnB,EAA0G,CAAC,GAAGpC,gBAAgB,CAAC,SAAD,CAApB,EAAiCmB,YAAjC,EAA+C,GAAG6C,MAAH,CAAU5B,SAAV,EAAqB,UAArB,EAAiC4B,MAAjC,CAAwCvC,QAAxC,CAA/C,EAAkG,IAAlG,CAA1G,EAAmN,CAAC,GAAGzB,gBAAgB,CAAC,SAAD,CAApB,EAAiCmB,YAAjC,EAA+C,GAAG6C,MAAH,CAAU5B,SAAV,EAAqB,WAArB,CAA/C,EAAkFP,QAAlF,CAAnN,EAAgT,CAAC,GAAG7B,gBAAgB,CAAC,SAAD,CAApB,EAAiCmB,YAAjC,EAA+C,GAAG6C,MAAH,CAAU5B,SAAV,EAAqB,MAArB,CAA/C,EAA6EuE,SAAS,KAAK,KAA3F,CAAhT,EAAmZxF,YAA3b,EAAtB;AACA,MAAIgH,YAAY,GAAG,aAAa/H,KAAK,CAAC4G,aAAN,CAAoB,KAApB,EAA2B;AACzD3E,IAAAA,SAAS,EAAE6F,eAD8C;AAEzD1F,IAAAA,KAAK,EAAED,QAAQ,GAAG6F,SAAH,GAAe;AAC5BC,MAAAA,OAAO,EAAE;AADmB;AAF2B,GAA3B,EAK7B,aAAajI,KAAK,CAAC4G,aAAN,CAAoB3G,SAAS,CAAC,SAAD,CAA7B,EAA0C,CAAC,GAAGH,SAAS,CAAC,SAAD,CAAb,EAA0B,EAA1B,EAA8B0G,aAA9B,EAA6C;AACrG1F,IAAAA,GAAG,EAAEkC;AADgG,GAA7C,CAA1C,CALgB,CAAhC;;AASA,MAAI3B,QAAQ,KAAK,cAAjB,EAAiC;AAC/B,WAAO,aAAarB,KAAK,CAAC4G,aAAN,CAAoB,MAApB,EAA4B;AAC9C3E,MAAAA,SAAS,EAAE,CAAC,GAAG/B,WAAW,CAAC,SAAD,CAAf,EAA4B,GAAG0D,MAAH,CAAU5B,SAAV,EAAqB,uBAArB,CAA5B,EAA2EC,SAA3E;AADmC,KAA5B,EAEjByE,gBAAgB,CAACqB,YAAD,CAFC,CAApB;AAGD;;AAED,SAAO,aAAa/H,KAAK,CAAC4G,aAAN,CAAoB,MAApB,EAA4B;AAC9C3E,IAAAA,SAAS,EAAEA;AADmC,GAA5B,EAEjB8F,YAFiB,EAEHrB,gBAAgB,EAFb,CAApB;AAGD,CA1SD;;AA4SA,IAAIK,MAAM,GAAG,aAAa/G,KAAK,CAACkI,UAAN,CAAiBtH,cAAjB,CAA1B;AACAmG,MAAM,CAACoB,OAAP,GAAiBhI,QAAQ,CAAC,SAAD,CAAzB;AACA4G,MAAM,CAACqB,WAAP,GAAqB,QAArB;AACArB,MAAM,CAACsB,YAAP,GAAsB;AACpBnG,EAAAA,IAAI,EAAE,QADc;AAEpBoG,EAAAA,QAAQ,EAAE,KAFU;AAGpBC,EAAAA,MAAM,EAAE,EAHY;AAIpBC,EAAAA,IAAI,EAAE,EAJc;AAKpBC,EAAAA,MAAM,EAAE,EALY;AAMpBjD,EAAAA,YAAY,EAAEnF,MAAM,CAACqI,CAND;AAOpBtH,EAAAA,cAAc,EAAE,IAPI;AAQpBC,EAAAA,QAAQ,EAAE,MARU;AASpBY,EAAAA,SAAS,EAAE,EATS;AAUpBR,EAAAA,QAAQ,EAAE,KAVU;AAWpBkH,EAAAA,mBAAmB,EAAE;AAXD,CAAtB;AAaA,IAAIC,QAAQ,GAAG7B,MAAf;AACArH,OAAO,CAAC,SAAD,CAAP,GAAqBkJ,QAArB","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _rcUpload = _interopRequireDefault(require(\"rc-upload\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _Dragger = _interopRequireDefault(require(\"./Dragger\"));\n\nvar _UploadList = _interopRequireDefault(require(\"./UploadList\"));\n\nvar _utils = require(\"./utils\");\n\nvar _LocaleReceiver = _interopRequireDefault(require(\"../locale-provider/LocaleReceiver\"));\n\nvar _default2 = _interopRequireDefault(require(\"../locale/default\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _devWarning = _interopRequireDefault(require(\"../_util/devWarning\"));\n\nvar _useForceUpdate = _interopRequireDefault(require(\"../_util/hooks/useForceUpdate\"));\n\nvar _useFreshState3 = _interopRequireDefault(require(\"./useFreshState\"));\n\nvar InternalUpload = function InternalUpload(props, ref) {\n  var _classNames2;\n\n  var fileListProp = props.fileList,\n      defaultFileList = props.defaultFileList,\n      onRemove = props.onRemove,\n      showUploadList = props.showUploadList,\n      listType = props.listType,\n      onPreview = props.onPreview,\n      onDownload = props.onDownload,\n      previewFile = props.previewFile,\n      disabled = props.disabled,\n      propLocale = props.locale,\n      iconRender = props.iconRender,\n      isImageUrl = props.isImageUrl,\n      progress = props.progress,\n      customizePrefixCls = props.prefixCls,\n      className = props.className,\n      type = props.type,\n      children = props.children,\n      style = props.style,\n      itemRender = props.itemRender;\n\n  var _React$useState = React.useState('drop'),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      dragState = _React$useState2[0],\n      setDragState = _React$useState2[1];\n\n  var forceUpdate = (0, _useForceUpdate[\"default\"])(); // Refresh always use fresh data\n\n  var _useFreshState = (0, _useFreshState3[\"default\"])(fileListProp || defaultFileList || [], fileListProp),\n      _useFreshState2 = (0, _slicedToArray2[\"default\"])(_useFreshState, 2),\n      getFileList = _useFreshState2[0],\n      setFileList = _useFreshState2[1];\n\n  var upload = React.useRef();\n  React.useEffect(function () {\n    (0, _devWarning[\"default\"])('fileList' in props || !('value' in props), 'Upload', '`value` is not a valid prop, do you mean `fileList`?');\n  }, []);\n\n  var onChange = function onChange(info) {\n    setFileList(info.fileList);\n    var onChangeProp = props.onChange;\n\n    if (onChangeProp) {\n      onChangeProp((0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, info), {\n        fileList: (0, _toConsumableArray2[\"default\"])(info.fileList)\n      }));\n    }\n  };\n\n  var onStart = function onStart(file) {\n    var targetItem = (0, _utils.fileToObject)(file);\n    targetItem.status = 'uploading';\n    var nextFileList = getFileList().concat();\n    var fileIndex = nextFileList.findIndex(function (_ref) {\n      var uid = _ref.uid;\n      return uid === targetItem.uid;\n    });\n\n    if (fileIndex === -1) {\n      nextFileList.push(targetItem);\n    } else {\n      nextFileList[fileIndex] = targetItem;\n    }\n\n    onChange({\n      file: targetItem,\n      fileList: nextFileList\n    });\n  };\n\n  var onSuccess = function onSuccess(response, file, xhr) {\n    try {\n      if (typeof response === 'string') {\n        response = JSON.parse(response);\n      }\n    } catch (e) {\n      /* do nothing */\n    }\n\n    var targetItem = (0, _utils.getFileItem)(file, getFileList()); // removed\n\n    if (!targetItem) {\n      return;\n    }\n\n    targetItem.status = 'done';\n    targetItem.response = response;\n    targetItem.xhr = xhr;\n    onChange({\n      file: (0, _extends2[\"default\"])({}, targetItem),\n      fileList: getFileList().concat()\n    });\n  };\n\n  var onProgress = function onProgress(e, file) {\n    var targetItem = (0, _utils.getFileItem)(file, getFileList()); // removed\n\n    if (!targetItem) {\n      return;\n    }\n\n    targetItem.percent = e.percent;\n    onChange({\n      event: e,\n      file: (0, _extends2[\"default\"])({}, targetItem),\n      fileList: getFileList().concat()\n    });\n  };\n\n  var onError = function onError(error, response, file) {\n    var targetItem = (0, _utils.getFileItem)(file, getFileList()); // removed\n\n    if (!targetItem) {\n      return;\n    }\n\n    targetItem.error = error;\n    targetItem.response = response;\n    targetItem.status = 'error';\n    onChange({\n      file: (0, _extends2[\"default\"])({}, targetItem),\n      fileList: getFileList().concat()\n    });\n  };\n\n  var handleRemove = function handleRemove(file) {\n    Promise.resolve(typeof onRemove === 'function' ? onRemove(file) : onRemove).then(function (ret) {\n      // Prevent removing file\n      if (ret === false) {\n        return;\n      }\n\n      var removedFileList = (0, _utils.removeFileItem)(file, getFileList());\n\n      if (removedFileList) {\n        file.status = 'removed';\n\n        if (upload.current) {\n          upload.current.abort(file);\n        }\n\n        onChange({\n          file: file,\n          fileList: removedFileList\n        });\n      }\n    });\n  };\n\n  var onFileDrop = function onFileDrop(e) {\n    setDragState(e.type);\n  };\n\n  var beforeUpload = function beforeUpload(file, fileListArgs) {\n    var beforeUploadProp = props.beforeUpload;\n\n    if (!beforeUploadProp) {\n      return true;\n    }\n\n    var result = beforeUploadProp(file, fileListArgs);\n\n    if (result === false) {\n      // Get unique file list\n      var uniqueList = [];\n      getFileList().concat(fileListArgs.map(_utils.fileToObject)).forEach(function (f) {\n        if (uniqueList.every(function (uf) {\n          return uf.uid !== f.uid;\n        })) {\n          uniqueList.push(f);\n        }\n      });\n      onChange({\n        file: file,\n        fileList: uniqueList\n      });\n      return false;\n    }\n\n    if (result && result.then) {\n      return result;\n    }\n\n    return true;\n  }; // Test needs\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      onStart: onStart,\n      onSuccess: onSuccess,\n      onProgress: onProgress,\n      onError: onError,\n      fileList: getFileList(),\n      upload: upload.current,\n      forceUpdate: forceUpdate\n    };\n  });\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('upload', customizePrefixCls);\n  var rcUploadProps = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({\n    onStart: onStart,\n    onError: onError,\n    onProgress: onProgress,\n    onSuccess: onSuccess\n  }, props), {\n    prefixCls: prefixCls,\n    beforeUpload: beforeUpload\n  });\n  delete rcUploadProps.className;\n  delete rcUploadProps.style; // Remove id to avoid open by label when trigger is hidden\n  // !children: https://github.com/ant-design/ant-design/issues/14298\n  // disabled: https://github.com/ant-design/ant-design/issues/16478\n  //           https://github.com/ant-design/ant-design/issues/24197\n\n  if (!children || disabled) {\n    delete rcUploadProps.id;\n  }\n\n  var renderUploadList = function renderUploadList(button) {\n    return showUploadList ? /*#__PURE__*/React.createElement(_LocaleReceiver[\"default\"], {\n      componentName: \"Upload\",\n      defaultLocale: _default2[\"default\"].Upload\n    }, function (locale) {\n      var _ref2 = typeof showUploadList === 'boolean' ? {} : showUploadList,\n          showRemoveIcon = _ref2.showRemoveIcon,\n          showPreviewIcon = _ref2.showPreviewIcon,\n          showDownloadIcon = _ref2.showDownloadIcon,\n          removeIcon = _ref2.removeIcon,\n          downloadIcon = _ref2.downloadIcon;\n\n      return /*#__PURE__*/React.createElement(_UploadList[\"default\"], {\n        listType: listType,\n        items: getFileList(true),\n        previewFile: previewFile,\n        onPreview: onPreview,\n        onDownload: onDownload,\n        onRemove: handleRemove,\n        showRemoveIcon: !disabled && showRemoveIcon,\n        showPreviewIcon: showPreviewIcon,\n        showDownloadIcon: showDownloadIcon,\n        removeIcon: removeIcon,\n        downloadIcon: downloadIcon,\n        iconRender: iconRender,\n        locale: (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, locale), propLocale),\n        isImageUrl: isImageUrl,\n        progress: progress,\n        appendAction: button,\n        itemRender: itemRender\n      });\n    }) : button;\n  };\n\n  if (type === 'drag') {\n    var _classNames;\n\n    var dragCls = (0, _classnames[\"default\"])(prefixCls, (_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-drag\"), true), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-drag-uploading\"), getFileList().some(function (file) {\n      return file.status === 'uploading';\n    })), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-drag-hover\"), dragState === 'dragover'), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n    return /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: dragCls,\n      onDrop: onFileDrop,\n      onDragOver: onFileDrop,\n      onDragLeave: onFileDrop,\n      style: style\n    }, /*#__PURE__*/React.createElement(_rcUpload[\"default\"], (0, _extends2[\"default\"])({}, rcUploadProps, {\n      ref: upload,\n      className: \"\".concat(prefixCls, \"-btn\")\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-drag-container\")\n    }, children))), renderUploadList());\n  }\n\n  var uploadButtonCls = (0, _classnames[\"default\"])(prefixCls, (_classNames2 = {}, (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-select\"), true), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-select-\").concat(listType), true), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-disabled\"), disabled), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2));\n  var uploadButton = /*#__PURE__*/React.createElement(\"div\", {\n    className: uploadButtonCls,\n    style: children ? undefined : {\n      display: 'none'\n    }\n  }, /*#__PURE__*/React.createElement(_rcUpload[\"default\"], (0, _extends2[\"default\"])({}, rcUploadProps, {\n    ref: upload\n  })));\n\n  if (listType === 'picture-card') {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: (0, _classnames[\"default\"])(\"\".concat(prefixCls, \"-picture-card-wrapper\"), className)\n    }, renderUploadList(uploadButton));\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: className\n  }, uploadButton, renderUploadList());\n};\n\nvar Upload = /*#__PURE__*/React.forwardRef(InternalUpload);\nUpload.Dragger = _Dragger[\"default\"];\nUpload.displayName = 'Upload';\nUpload.defaultProps = {\n  type: 'select',\n  multiple: false,\n  action: '',\n  data: {},\n  accept: '',\n  beforeUpload: _utils.T,\n  showUploadList: true,\n  listType: 'text',\n  className: '',\n  disabled: false,\n  supportServerRender: true\n};\nvar _default = Upload;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}