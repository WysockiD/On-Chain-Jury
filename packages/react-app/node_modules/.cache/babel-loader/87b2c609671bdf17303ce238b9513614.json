{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _rcAnimate = _interopRequireDefault(require(\"rc-animate\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _LoadingOutlined = _interopRequireDefault(require(\"@ant-design/icons/LoadingOutlined\"));\n\nvar _PaperClipOutlined = _interopRequireDefault(require(\"@ant-design/icons/PaperClipOutlined\"));\n\nvar _PictureTwoTone = _interopRequireDefault(require(\"@ant-design/icons/PictureTwoTone\"));\n\nvar _FileTwoTone = _interopRequireDefault(require(\"@ant-design/icons/FileTwoTone\"));\n\nvar _EyeOutlined = _interopRequireDefault(require(\"@ant-design/icons/EyeOutlined\"));\n\nvar _DeleteOutlined = _interopRequireDefault(require(\"@ant-design/icons/DeleteOutlined\"));\n\nvar _DownloadOutlined = _interopRequireDefault(require(\"@ant-design/icons/DownloadOutlined\"));\n\nvar _reactNode = require(\"../_util/reactNode\");\n\nvar _utils = require(\"./utils\");\n\nvar _tooltip = _interopRequireDefault(require(\"../tooltip\"));\n\nvar _progress = _interopRequireDefault(require(\"../progress\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _button = _interopRequireDefault(require(\"../button\"));\n\nvar _useForceUpdate = _interopRequireDefault(require(\"../_util/hooks/useForceUpdate\"));\n\nvar InternalUploadList = function InternalUploadList(_ref, ref) {\n  var _classNames6;\n\n  var listType = _ref.listType,\n      previewFile = _ref.previewFile,\n      onPreview = _ref.onPreview,\n      onDownload = _ref.onDownload,\n      onRemove = _ref.onRemove,\n      locale = _ref.locale,\n      iconRender = _ref.iconRender,\n      isImgUrl = _ref.isImageUrl,\n      customizePrefixCls = _ref.prefixCls,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      showPreviewIcon = _ref.showPreviewIcon,\n      showRemoveIcon = _ref.showRemoveIcon,\n      showDownloadIcon = _ref.showDownloadIcon,\n      customRemoveIcon = _ref.removeIcon,\n      customDownloadIcon = _ref.downloadIcon,\n      progressProps = _ref.progress,\n      appendAction = _ref.appendAction,\n      itemRender = _ref.itemRender;\n  var forceUpdate = (0, _useForceUpdate[\"default\"])();\n  React.useEffect(function () {\n    if (listType !== 'picture' && listType !== 'picture-card') {\n      return;\n    }\n\n    (items || []).forEach(function (file) {\n      if (typeof document === 'undefined' || typeof window === 'undefined' || !window.FileReader || !window.File || !(file.originFileObj instanceof File || file.originFileObj instanceof Blob) || file.thumbUrl !== undefined) {\n        return;\n      }\n\n      file.thumbUrl = '';\n\n      if (previewFile) {\n        previewFile(file.originFileObj).then(function (previewDataUrl) {\n          // Need append '' to avoid dead loop\n          file.thumbUrl = previewDataUrl || '';\n          forceUpdate();\n        });\n      }\n    });\n  }, [listType, items, previewFile]);\n\n  var handlePreview = function handlePreview(file, e) {\n    if (!onPreview) {\n      return;\n    }\n\n    e.preventDefault();\n    return onPreview(file);\n  };\n\n  var handleDownload = function handleDownload(file) {\n    if (typeof onDownload === 'function') {\n      onDownload(file);\n    } else if (file.url) {\n      window.open(file.url);\n    }\n  };\n\n  var handleClose = function handleClose(file) {\n    if (onRemove) {\n      onRemove(file);\n    }\n  };\n\n  var handleIconRender = function handleIconRender(file) {\n    if (iconRender) {\n      return iconRender(file, listType);\n    }\n\n    var isLoading = file.status === 'uploading';\n    var fileIcon = isImgUrl && isImgUrl(file) ? /*#__PURE__*/React.createElement(_PictureTwoTone[\"default\"], null) : /*#__PURE__*/React.createElement(_FileTwoTone[\"default\"], null);\n    var icon = isLoading ? /*#__PURE__*/React.createElement(_LoadingOutlined[\"default\"], null) : /*#__PURE__*/React.createElement(_PaperClipOutlined[\"default\"], null);\n\n    if (listType === 'picture') {\n      icon = isLoading ? /*#__PURE__*/React.createElement(_LoadingOutlined[\"default\"], null) : fileIcon;\n    } else if (listType === 'picture-card') {\n      icon = isLoading ? locale.uploading : fileIcon;\n    }\n\n    return icon;\n  };\n\n  var handleActionIconRender = function handleActionIconRender(customIcon, callback, prefixCls, title) {\n    var btnProps = {\n      type: 'text',\n      size: 'small',\n      title: title,\n      onClick: function onClick(e) {\n        callback();\n\n        if ((0, _reactNode.isValidElement)(customIcon) && customIcon.props.onClick) {\n          customIcon.props.onClick(e);\n        }\n      },\n      className: \"\".concat(prefixCls, \"-list-item-card-actions-btn\")\n    };\n\n    if ((0, _reactNode.isValidElement)(customIcon)) {\n      var btnIcon = (0, _reactNode.cloneElement)(customIcon, (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, customIcon.props), {\n        onClick: function onClick() {}\n      }));\n      return /*#__PURE__*/React.createElement(_button[\"default\"], (0, _extends2[\"default\"])({}, btnProps, {\n        icon: btnIcon\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(_button[\"default\"], btnProps, /*#__PURE__*/React.createElement(\"span\", null, customIcon));\n  }; // Test needs\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      handlePreview: handlePreview,\n      handleDownload: handleDownload\n    };\n  });\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('upload', customizePrefixCls);\n  var list = items.map(function (file) {\n    var _classNames3, _classNames4;\n\n    var progress;\n    var iconNode = handleIconRender(file);\n    var icon = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-text-icon\")\n    }, iconNode);\n\n    if (listType === 'picture' || listType === 'picture-card') {\n      if (file.status === 'uploading' || !file.thumbUrl && !file.url) {\n        var _classNames;\n\n        var uploadingClassName = (0, _classnames[\"default\"])((_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-list-item-thumbnail\"), true), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-list-item-file\"), file.status !== 'uploading'), _classNames));\n        icon = /*#__PURE__*/React.createElement(\"div\", {\n          className: uploadingClassName\n        }, iconNode);\n      } else {\n        var _classNames2;\n\n        var thumbnail = isImgUrl && isImgUrl(file) ? /*#__PURE__*/React.createElement(\"img\", {\n          src: file.thumbUrl || file.url,\n          alt: file.name,\n          className: \"\".concat(prefixCls, \"-list-item-image\")\n        }) : iconNode;\n        var aClassName = (0, _classnames[\"default\"])((_classNames2 = {}, (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-list-item-thumbnail\"), true), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-list-item-file\"), isImgUrl && !isImgUrl(file)), _classNames2));\n        icon = /*#__PURE__*/React.createElement(\"a\", {\n          className: aClassName,\n          onClick: function onClick(e) {\n            return handlePreview(file, e);\n          },\n          href: file.url || file.thumbUrl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\"\n        }, thumbnail);\n      }\n    }\n\n    if (file.status === 'uploading') {\n      // show loading icon if upload progress listener is disabled\n      var loadingProgress = 'percent' in file ? /*#__PURE__*/React.createElement(_progress[\"default\"], (0, _extends2[\"default\"])({}, progressProps, {\n        type: \"line\",\n        percent: file.percent\n      })) : null;\n      progress = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-list-item-progress\"),\n        key: \"progress\"\n      }, loadingProgress);\n    }\n\n    var infoUploadingClass = (0, _classnames[\"default\"])((_classNames3 = {}, (0, _defineProperty2[\"default\"])(_classNames3, \"\".concat(prefixCls, \"-list-item\"), true), (0, _defineProperty2[\"default\"])(_classNames3, \"\".concat(prefixCls, \"-list-item-\").concat(file.status), true), (0, _defineProperty2[\"default\"])(_classNames3, \"\".concat(prefixCls, \"-list-item-list-type-\").concat(listType), true), _classNames3));\n    var linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n    var removeIcon = showRemoveIcon ? handleActionIconRender((typeof customRemoveIcon === 'function' ? customRemoveIcon(file) : customRemoveIcon) || /*#__PURE__*/React.createElement(_DeleteOutlined[\"default\"], null), function () {\n      return handleClose(file);\n    }, prefixCls, locale.removeFile) : null;\n    var downloadIcon = showDownloadIcon && file.status === 'done' ? handleActionIconRender((typeof customDownloadIcon === 'function' ? customDownloadIcon(file) : customDownloadIcon) || /*#__PURE__*/React.createElement(_DownloadOutlined[\"default\"], null), function () {\n      return handleDownload(file);\n    }, prefixCls, locale.downloadFile) : null;\n    var downloadOrDelete = listType !== 'picture-card' && /*#__PURE__*/React.createElement(\"span\", {\n      key: \"download-delete\",\n      className: \"\".concat(prefixCls, \"-list-item-card-actions \").concat(listType === 'picture' ? 'picture' : '')\n    }, downloadIcon, removeIcon);\n    var listItemNameClass = (0, _classnames[\"default\"])((_classNames4 = {}, (0, _defineProperty2[\"default\"])(_classNames4, \"\".concat(prefixCls, \"-list-item-name\"), true), (0, _defineProperty2[\"default\"])(_classNames4, \"\".concat(prefixCls, \"-list-item-name-icon-count-\").concat([downloadIcon, removeIcon].filter(function (x) {\n      return x;\n    }).length), true), _classNames4));\n    var preview = file.url ? [/*#__PURE__*/React.createElement(\"a\", (0, _extends2[\"default\"])({\n      key: \"view\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      className: listItemNameClass,\n      title: file.name\n    }, linkProps, {\n      href: file.url,\n      onClick: function onClick(e) {\n        return handlePreview(file, e);\n      }\n    }), file.name), downloadOrDelete] : [/*#__PURE__*/React.createElement(\"span\", {\n      key: \"view\",\n      className: listItemNameClass,\n      onClick: function onClick(e) {\n        return handlePreview(file, e);\n      },\n      title: file.name\n    }, file.name), downloadOrDelete];\n    var style = {\n      pointerEvents: 'none',\n      opacity: 0.5\n    };\n    var previewIcon = showPreviewIcon ? /*#__PURE__*/React.createElement(\"a\", {\n      href: file.url || file.thumbUrl,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      style: file.url || file.thumbUrl ? undefined : style,\n      onClick: function onClick(e) {\n        return handlePreview(file, e);\n      },\n      title: locale.previewFile\n    }, /*#__PURE__*/React.createElement(_EyeOutlined[\"default\"], null)) : null;\n    var actions = listType === 'picture-card' && file.status !== 'uploading' && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-list-item-actions\")\n    }, previewIcon, file.status === 'done' && downloadIcon, removeIcon);\n    var message;\n\n    if (file.response && typeof file.response === 'string') {\n      message = file.response;\n    } else {\n      message = file.error && file.error.statusText || locale.uploadError;\n    }\n\n    var iconAndPreview = /*#__PURE__*/React.createElement(\"span\", null, icon, preview);\n    var dom = /*#__PURE__*/React.createElement(\"div\", {\n      className: infoUploadingClass\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-list-item-info\")\n    }, iconAndPreview), actions, /*#__PURE__*/React.createElement(_rcAnimate[\"default\"], {\n      transitionName: \"fade\",\n      component: \"\"\n    }, progress));\n    var listContainerNameClass = (0, _classnames[\"default\"])((0, _defineProperty2[\"default\"])({}, \"\".concat(prefixCls, \"-list-picture-card-container\"), listType === 'picture-card'));\n    var item = file.status === 'error' ? /*#__PURE__*/React.createElement(_tooltip[\"default\"], {\n      title: message,\n      getPopupContainer: function getPopupContainer(node) {\n        return node.parentNode;\n      }\n    }, dom) : /*#__PURE__*/React.createElement(\"span\", null, dom);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: file.uid,\n      className: listContainerNameClass\n    }, itemRender ? itemRender(item, file, items) : item);\n  });\n  var listClassNames = (0, _classnames[\"default\"])((_classNames6 = {}, (0, _defineProperty2[\"default\"])(_classNames6, \"\".concat(prefixCls, \"-list\"), true), (0, _defineProperty2[\"default\"])(_classNames6, \"\".concat(prefixCls, \"-list-\").concat(listType), true), (0, _defineProperty2[\"default\"])(_classNames6, \"\".concat(prefixCls, \"-list-rtl\"), direction === 'rtl'), _classNames6));\n  var animationDirection = listType === 'picture-card' ? 'animate-inline' : 'animate';\n  var transitionName = list.length === 0 ? '' : \"\".concat(prefixCls, \"-\").concat(animationDirection);\n  return /*#__PURE__*/React.createElement(_rcAnimate[\"default\"], {\n    transitionName: transitionName,\n    component: \"div\",\n    className: listClassNames\n  }, list, /*#__PURE__*/React.isValidElement(appendAction) ? /*#__PURE__*/React.cloneElement(appendAction, {\n    key: 'appendAction'\n  }) : appendAction);\n};\n\nvar UploadList = /*#__PURE__*/React.forwardRef(InternalUploadList);\nUploadList.displayName = 'UploadList';\nUploadList.defaultProps = {\n  listType: 'text',\n  progress: {\n    strokeWidth: 2,\n    showInfo: false\n  },\n  showRemoveIcon: true,\n  showDownloadIcon: false,\n  showPreviewIcon: true,\n  previewFile: _utils.previewImage,\n  isImageUrl: _utils.isImageUrl\n};\nvar _default = UploadList;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/home/dylan/Desktop/JuryDapp/node_modules/antd/lib/upload/UploadList.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_defineProperty2","_extends2","React","_rcAnimate","_classnames","_LoadingOutlined","_PaperClipOutlined","_PictureTwoTone","_FileTwoTone","_EyeOutlined","_DeleteOutlined","_DownloadOutlined","_reactNode","_utils","_tooltip","_progress","_configProvider","_button","_useForceUpdate","InternalUploadList","_ref","ref","_classNames6","listType","previewFile","onPreview","onDownload","onRemove","locale","iconRender","isImgUrl","isImageUrl","customizePrefixCls","prefixCls","_ref$items","items","showPreviewIcon","showRemoveIcon","showDownloadIcon","customRemoveIcon","removeIcon","customDownloadIcon","downloadIcon","progressProps","progress","appendAction","itemRender","forceUpdate","useEffect","forEach","file","document","window","FileReader","File","originFileObj","Blob","thumbUrl","undefined","then","previewDataUrl","handlePreview","e","preventDefault","handleDownload","url","open","handleClose","handleIconRender","isLoading","status","fileIcon","createElement","icon","uploading","handleActionIconRender","customIcon","callback","title","btnProps","type","size","onClick","isValidElement","props","className","concat","btnIcon","cloneElement","useImperativeHandle","_React$useContext","useContext","ConfigContext","getPrefixCls","direction","list","map","_classNames3","_classNames4","iconNode","_classNames","uploadingClassName","_classNames2","thumbnail","src","alt","name","aClassName","href","target","rel","loadingProgress","percent","key","infoUploadingClass","linkProps","JSON","parse","removeFile","downloadFile","downloadOrDelete","listItemNameClass","filter","x","length","preview","style","pointerEvents","opacity","previewIcon","actions","message","response","error","statusText","uploadError","iconAndPreview","dom","transitionName","component","listContainerNameClass","item","getPopupContainer","node","parentNode","uid","listClassNames","animationDirection","UploadList","forwardRef","displayName","defaultProps","strokeWidth","showInfo","previewImage","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _rcAnimate = _interopRequireDefault(require(\"rc-animate\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _LoadingOutlined = _interopRequireDefault(require(\"@ant-design/icons/LoadingOutlined\"));\n\nvar _PaperClipOutlined = _interopRequireDefault(require(\"@ant-design/icons/PaperClipOutlined\"));\n\nvar _PictureTwoTone = _interopRequireDefault(require(\"@ant-design/icons/PictureTwoTone\"));\n\nvar _FileTwoTone = _interopRequireDefault(require(\"@ant-design/icons/FileTwoTone\"));\n\nvar _EyeOutlined = _interopRequireDefault(require(\"@ant-design/icons/EyeOutlined\"));\n\nvar _DeleteOutlined = _interopRequireDefault(require(\"@ant-design/icons/DeleteOutlined\"));\n\nvar _DownloadOutlined = _interopRequireDefault(require(\"@ant-design/icons/DownloadOutlined\"));\n\nvar _reactNode = require(\"../_util/reactNode\");\n\nvar _utils = require(\"./utils\");\n\nvar _tooltip = _interopRequireDefault(require(\"../tooltip\"));\n\nvar _progress = _interopRequireDefault(require(\"../progress\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _button = _interopRequireDefault(require(\"../button\"));\n\nvar _useForceUpdate = _interopRequireDefault(require(\"../_util/hooks/useForceUpdate\"));\n\nvar InternalUploadList = function InternalUploadList(_ref, ref) {\n  var _classNames6;\n\n  var listType = _ref.listType,\n      previewFile = _ref.previewFile,\n      onPreview = _ref.onPreview,\n      onDownload = _ref.onDownload,\n      onRemove = _ref.onRemove,\n      locale = _ref.locale,\n      iconRender = _ref.iconRender,\n      isImgUrl = _ref.isImageUrl,\n      customizePrefixCls = _ref.prefixCls,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      showPreviewIcon = _ref.showPreviewIcon,\n      showRemoveIcon = _ref.showRemoveIcon,\n      showDownloadIcon = _ref.showDownloadIcon,\n      customRemoveIcon = _ref.removeIcon,\n      customDownloadIcon = _ref.downloadIcon,\n      progressProps = _ref.progress,\n      appendAction = _ref.appendAction,\n      itemRender = _ref.itemRender;\n  var forceUpdate = (0, _useForceUpdate[\"default\"])();\n  React.useEffect(function () {\n    if (listType !== 'picture' && listType !== 'picture-card') {\n      return;\n    }\n\n    (items || []).forEach(function (file) {\n      if (typeof document === 'undefined' || typeof window === 'undefined' || !window.FileReader || !window.File || !(file.originFileObj instanceof File || file.originFileObj instanceof Blob) || file.thumbUrl !== undefined) {\n        return;\n      }\n\n      file.thumbUrl = '';\n\n      if (previewFile) {\n        previewFile(file.originFileObj).then(function (previewDataUrl) {\n          // Need append '' to avoid dead loop\n          file.thumbUrl = previewDataUrl || '';\n          forceUpdate();\n        });\n      }\n    });\n  }, [listType, items, previewFile]);\n\n  var handlePreview = function handlePreview(file, e) {\n    if (!onPreview) {\n      return;\n    }\n\n    e.preventDefault();\n    return onPreview(file);\n  };\n\n  var handleDownload = function handleDownload(file) {\n    if (typeof onDownload === 'function') {\n      onDownload(file);\n    } else if (file.url) {\n      window.open(file.url);\n    }\n  };\n\n  var handleClose = function handleClose(file) {\n    if (onRemove) {\n      onRemove(file);\n    }\n  };\n\n  var handleIconRender = function handleIconRender(file) {\n    if (iconRender) {\n      return iconRender(file, listType);\n    }\n\n    var isLoading = file.status === 'uploading';\n    var fileIcon = isImgUrl && isImgUrl(file) ? /*#__PURE__*/React.createElement(_PictureTwoTone[\"default\"], null) : /*#__PURE__*/React.createElement(_FileTwoTone[\"default\"], null);\n    var icon = isLoading ? /*#__PURE__*/React.createElement(_LoadingOutlined[\"default\"], null) : /*#__PURE__*/React.createElement(_PaperClipOutlined[\"default\"], null);\n\n    if (listType === 'picture') {\n      icon = isLoading ? /*#__PURE__*/React.createElement(_LoadingOutlined[\"default\"], null) : fileIcon;\n    } else if (listType === 'picture-card') {\n      icon = isLoading ? locale.uploading : fileIcon;\n    }\n\n    return icon;\n  };\n\n  var handleActionIconRender = function handleActionIconRender(customIcon, callback, prefixCls, title) {\n    var btnProps = {\n      type: 'text',\n      size: 'small',\n      title: title,\n      onClick: function onClick(e) {\n        callback();\n\n        if ((0, _reactNode.isValidElement)(customIcon) && customIcon.props.onClick) {\n          customIcon.props.onClick(e);\n        }\n      },\n      className: \"\".concat(prefixCls, \"-list-item-card-actions-btn\")\n    };\n\n    if ((0, _reactNode.isValidElement)(customIcon)) {\n      var btnIcon = (0, _reactNode.cloneElement)(customIcon, (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, customIcon.props), {\n        onClick: function onClick() {}\n      }));\n      return /*#__PURE__*/React.createElement(_button[\"default\"], (0, _extends2[\"default\"])({}, btnProps, {\n        icon: btnIcon\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(_button[\"default\"], btnProps, /*#__PURE__*/React.createElement(\"span\", null, customIcon));\n  }; // Test needs\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      handlePreview: handlePreview,\n      handleDownload: handleDownload\n    };\n  });\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('upload', customizePrefixCls);\n  var list = items.map(function (file) {\n    var _classNames3, _classNames4;\n\n    var progress;\n    var iconNode = handleIconRender(file);\n    var icon = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-text-icon\")\n    }, iconNode);\n\n    if (listType === 'picture' || listType === 'picture-card') {\n      if (file.status === 'uploading' || !file.thumbUrl && !file.url) {\n        var _classNames;\n\n        var uploadingClassName = (0, _classnames[\"default\"])((_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-list-item-thumbnail\"), true), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-list-item-file\"), file.status !== 'uploading'), _classNames));\n        icon = /*#__PURE__*/React.createElement(\"div\", {\n          className: uploadingClassName\n        }, iconNode);\n      } else {\n        var _classNames2;\n\n        var thumbnail = isImgUrl && isImgUrl(file) ? /*#__PURE__*/React.createElement(\"img\", {\n          src: file.thumbUrl || file.url,\n          alt: file.name,\n          className: \"\".concat(prefixCls, \"-list-item-image\")\n        }) : iconNode;\n        var aClassName = (0, _classnames[\"default\"])((_classNames2 = {}, (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-list-item-thumbnail\"), true), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-list-item-file\"), isImgUrl && !isImgUrl(file)), _classNames2));\n        icon = /*#__PURE__*/React.createElement(\"a\", {\n          className: aClassName,\n          onClick: function onClick(e) {\n            return handlePreview(file, e);\n          },\n          href: file.url || file.thumbUrl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\"\n        }, thumbnail);\n      }\n    }\n\n    if (file.status === 'uploading') {\n      // show loading icon if upload progress listener is disabled\n      var loadingProgress = 'percent' in file ? /*#__PURE__*/React.createElement(_progress[\"default\"], (0, _extends2[\"default\"])({}, progressProps, {\n        type: \"line\",\n        percent: file.percent\n      })) : null;\n      progress = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-list-item-progress\"),\n        key: \"progress\"\n      }, loadingProgress);\n    }\n\n    var infoUploadingClass = (0, _classnames[\"default\"])((_classNames3 = {}, (0, _defineProperty2[\"default\"])(_classNames3, \"\".concat(prefixCls, \"-list-item\"), true), (0, _defineProperty2[\"default\"])(_classNames3, \"\".concat(prefixCls, \"-list-item-\").concat(file.status), true), (0, _defineProperty2[\"default\"])(_classNames3, \"\".concat(prefixCls, \"-list-item-list-type-\").concat(listType), true), _classNames3));\n    var linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n    var removeIcon = showRemoveIcon ? handleActionIconRender((typeof customRemoveIcon === 'function' ? customRemoveIcon(file) : customRemoveIcon) || /*#__PURE__*/React.createElement(_DeleteOutlined[\"default\"], null), function () {\n      return handleClose(file);\n    }, prefixCls, locale.removeFile) : null;\n    var downloadIcon = showDownloadIcon && file.status === 'done' ? handleActionIconRender((typeof customDownloadIcon === 'function' ? customDownloadIcon(file) : customDownloadIcon) || /*#__PURE__*/React.createElement(_DownloadOutlined[\"default\"], null), function () {\n      return handleDownload(file);\n    }, prefixCls, locale.downloadFile) : null;\n    var downloadOrDelete = listType !== 'picture-card' && /*#__PURE__*/React.createElement(\"span\", {\n      key: \"download-delete\",\n      className: \"\".concat(prefixCls, \"-list-item-card-actions \").concat(listType === 'picture' ? 'picture' : '')\n    }, downloadIcon, removeIcon);\n    var listItemNameClass = (0, _classnames[\"default\"])((_classNames4 = {}, (0, _defineProperty2[\"default\"])(_classNames4, \"\".concat(prefixCls, \"-list-item-name\"), true), (0, _defineProperty2[\"default\"])(_classNames4, \"\".concat(prefixCls, \"-list-item-name-icon-count-\").concat([downloadIcon, removeIcon].filter(function (x) {\n      return x;\n    }).length), true), _classNames4));\n    var preview = file.url ? [/*#__PURE__*/React.createElement(\"a\", (0, _extends2[\"default\"])({\n      key: \"view\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      className: listItemNameClass,\n      title: file.name\n    }, linkProps, {\n      href: file.url,\n      onClick: function onClick(e) {\n        return handlePreview(file, e);\n      }\n    }), file.name), downloadOrDelete] : [/*#__PURE__*/React.createElement(\"span\", {\n      key: \"view\",\n      className: listItemNameClass,\n      onClick: function onClick(e) {\n        return handlePreview(file, e);\n      },\n      title: file.name\n    }, file.name), downloadOrDelete];\n    var style = {\n      pointerEvents: 'none',\n      opacity: 0.5\n    };\n    var previewIcon = showPreviewIcon ? /*#__PURE__*/React.createElement(\"a\", {\n      href: file.url || file.thumbUrl,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      style: file.url || file.thumbUrl ? undefined : style,\n      onClick: function onClick(e) {\n        return handlePreview(file, e);\n      },\n      title: locale.previewFile\n    }, /*#__PURE__*/React.createElement(_EyeOutlined[\"default\"], null)) : null;\n    var actions = listType === 'picture-card' && file.status !== 'uploading' && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-list-item-actions\")\n    }, previewIcon, file.status === 'done' && downloadIcon, removeIcon);\n    var message;\n\n    if (file.response && typeof file.response === 'string') {\n      message = file.response;\n    } else {\n      message = file.error && file.error.statusText || locale.uploadError;\n    }\n\n    var iconAndPreview = /*#__PURE__*/React.createElement(\"span\", null, icon, preview);\n    var dom = /*#__PURE__*/React.createElement(\"div\", {\n      className: infoUploadingClass\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-list-item-info\")\n    }, iconAndPreview), actions, /*#__PURE__*/React.createElement(_rcAnimate[\"default\"], {\n      transitionName: \"fade\",\n      component: \"\"\n    }, progress));\n    var listContainerNameClass = (0, _classnames[\"default\"])((0, _defineProperty2[\"default\"])({}, \"\".concat(prefixCls, \"-list-picture-card-container\"), listType === 'picture-card'));\n    var item = file.status === 'error' ? /*#__PURE__*/React.createElement(_tooltip[\"default\"], {\n      title: message,\n      getPopupContainer: function getPopupContainer(node) {\n        return node.parentNode;\n      }\n    }, dom) : /*#__PURE__*/React.createElement(\"span\", null, dom);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: file.uid,\n      className: listContainerNameClass\n    }, itemRender ? itemRender(item, file, items) : item);\n  });\n  var listClassNames = (0, _classnames[\"default\"])((_classNames6 = {}, (0, _defineProperty2[\"default\"])(_classNames6, \"\".concat(prefixCls, \"-list\"), true), (0, _defineProperty2[\"default\"])(_classNames6, \"\".concat(prefixCls, \"-list-\").concat(listType), true), (0, _defineProperty2[\"default\"])(_classNames6, \"\".concat(prefixCls, \"-list-rtl\"), direction === 'rtl'), _classNames6));\n  var animationDirection = listType === 'picture-card' ? 'animate-inline' : 'animate';\n  var transitionName = list.length === 0 ? '' : \"\".concat(prefixCls, \"-\").concat(animationDirection);\n  return /*#__PURE__*/React.createElement(_rcAnimate[\"default\"], {\n    transitionName: transitionName,\n    component: \"div\",\n    className: listClassNames\n  }, list, /*#__PURE__*/React.isValidElement(appendAction) ? /*#__PURE__*/React.cloneElement(appendAction, {\n    key: 'appendAction'\n  }) : appendAction);\n};\n\nvar UploadList = /*#__PURE__*/React.forwardRef(InternalUploadList);\nUploadList.displayName = 'UploadList';\nUploadList.defaultProps = {\n  listType: 'text',\n  progress: {\n    strokeWidth: 2,\n    showInfo: false\n  },\n  showRemoveIcon: true,\n  showDownloadIcon: false,\n  showPreviewIcon: true,\n  previewFile: _utils.previewImage,\n  isImageUrl: _utils.isImageUrl\n};\nvar _default = UploadList;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}