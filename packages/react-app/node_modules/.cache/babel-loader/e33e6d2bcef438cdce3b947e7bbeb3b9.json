{"ast":null,"code":"var _jsxFileName = \"/home/dylan/Desktop/JuryDapp/packages/react-app/src/App.jsx\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\nimport { StaticJsonRpcProvider, JsonRpcProvider, Web3Provider } from \"@ethersproject/providers\";\nimport \"./App.css\";\nimport { Row, Col, Button, Menu, Alert, Switch as SwitchD } from \"antd\";\nimport Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport { useUserAddress } from \"eth-hooks\";\nimport { useExchangePrice, useGasPrice, useUserProvider, useContractLoader, useContractReader, useEventListener, useBalance, useExternalContractLoader, useOnBlock } from \"./hooks\";\nimport { Header, Account, Faucet, Ramp, Contract, GasGauge, ThemeSwitch } from \"./components\";\nimport { Transactor } from \"./helpers\";\nimport { formatEther, parseEther } from \"@ethersproject/units\"; //import Documents from \"./Documents\";\n\nimport { Documents, Deliberation, Verdict } from \"./views\";\nimport { useThemeSwitcher } from \"react-css-theme-switcher\";\nimport { INFURA_ID, DAI_ADDRESS, DAI_ABI, NETWORK, NETWORKS } from \"./constants\"; /// 📡 What chain are contracts deployed to?\n\nconst targetNetwork = NETWORKS['localhost'];\nconst DEBUG = true; // 🛰 providers\n\nif (DEBUG) console.log(\"📡 Connecting to Mainnet Ethereum\");\nconst scaffoldEthProvider = new StaticJsonRpcProvider(\"https://rpc.scaffoldeth.io:48544\");\nconst mainnetInfura = new StaticJsonRpcProvider(\"https://mainnet.infura.io/v3/\" + INFURA_ID);\nconst localProviderUrl = targetNetwork.rpcUrl;\nconst localProviderUrlFromEnv = process.env.REACT_APP_PROVIDER ? process.env.REACT_APP_PROVIDER : localProviderUrl;\nif (DEBUG) console.log(\"🏠 Connecting to provider:\", localProviderUrlFromEnv);\nconst localProvider = new StaticJsonRpcProvider(localProviderUrlFromEnv); // 🔭 block explorer URL\n\nconst blockExplorer = targetNetwork.blockExplorer;\n\nfunction App(props) {\n  const mainnetProvider = scaffoldEthProvider && scaffoldEthProvider._network ? scaffoldEthProvider : mainnetInfura;\n  const [injectedProvider, setInjectedProvider] = useState();\n  /* 💵 This hook will get the price of ETH from 🦄 Uniswap: */\n\n  const price = useExchangePrice(targetNetwork, mainnetProvider);\n  const gasPrice = useGasPrice(targetNetwork, \"fast\");\n  const userProvider = useUserProvider(injectedProvider, localProvider);\n  const address = useUserAddress(userProvider);\n  let localChainId = localProvider && localProvider._network && localProvider._network.chainId;\n  let selectedChainId = userProvider && userProvider._network && userProvider._network.chainId;\n  const tx = Transactor(userProvider, gasPrice); // Faucet Tx can be used to send funds from the faucet\n\n  const faucetTx = Transactor(localProvider, gasPrice);\n  const yourLocalBalance = useBalance(localProvider, address);\n  const yourMainnetBalance = useBalance(mainnetProvider, address);\n  const readContracts = useContractLoader(localProvider);\n  const writeContracts = useContractLoader(userProvider);\n  const mainnetDAIContract = useExternalContractLoader(mainnetProvider, DAI_ADDRESS, DAI_ABI);\n  useOnBlock(mainnetProvider, () => {\n    console.log(`⛓ A new mainnet block is here: ${mainnetProvider._lastBlockNumber}`);\n  });\n  const myMainnetDAIBalance = useContractReader({\n    DAI: mainnetDAIContract\n  }, \"DAI\", \"balanceOf\", [\"0x34aA3F359A9D614239015126635CE7732c18fDF3\"]);\n  const purpose = useContractReader(readContracts, \"YourContract\", \"time\");\n  const count = useContractReader(readContracts, \"YourContract\", \"count\"); //📟 Listen for broadcast events\n\n  const setPurposeEvents = useEventListener(readContracts, \"YourContract\", \"register\", localProvider, 0);\n  const setGuilty = useEventListener(readContracts, \"YourContract\", \"setGuilty\", localProvider, 1);\n  const setNotGuilty = useEventListener(readContracts, \"YourContract\", \"setNotGuilty\", localProvider, 1);\n  const FinalVerdict = useEventListener(readContracts, \"YourContract\", \"FinalVerdict\", localProvider, 0);\n  useEffect(() => {\n    if (DEBUG && mainnetProvider && address && selectedChainId && yourLocalBalance && yourMainnetBalance && readContracts && writeContracts && mainnetDAIContract) {\n      console.log(\"_____________________________________ 🏗 scaffold-eth _____________________________________\");\n      console.log(\"🌎 mainnetProvider\", mainnetProvider);\n      console.log(\"🏠 localChainId\", localChainId);\n      console.log(\"👩‍💼 selected address:\", address);\n      console.log(\"🕵🏻‍♂️ selectedChainId:\", selectedChainId);\n      console.log(\"💵 yourLocalBalance\", yourLocalBalance ? formatEther(yourLocalBalance) : \"...\");\n      console.log(\"💵 yourMainnetBalance\", yourMainnetBalance ? formatEther(yourMainnetBalance) : \"...\");\n      console.log(\"📝 readContracts\", readContracts);\n      console.log(\"🌍 DAI contract on mainnet:\", mainnetDAIContract);\n      console.log(\"🔐 writeContracts\", writeContracts);\n    }\n  }, [mainnetProvider, address, selectedChainId, yourLocalBalance, yourMainnetBalance, readContracts, writeContracts, mainnetDAIContract]);\n  let networkDisplay = \"\";\n\n  if (localChainId && selectedChainId && localChainId != selectedChainId) {\n    networkDisplay = /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        zIndex: 2,\n        position: 'absolute',\n        right: 0,\n        top: 60,\n        padding: 16\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      message: \"⚠️ Wrong Network\",\n      description: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }\n      }, \"You have \", /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 24\n        }\n      }, NETWORK(selectedChainId).name), \" selected and you need to be on \", /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 94\n        }\n      }, NETWORK(localChainId).name), \".\"),\n      type: \"error\",\n      closable: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }));\n  } else {\n    networkDisplay = /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        zIndex: -1,\n        position: 'absolute',\n        right: 154,\n        top: 28,\n        padding: 16,\n        color: targetNetwork.color\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }\n    }, targetNetwork.name);\n  }\n\n  const loadWeb3Modal = useCallback(async () => {\n    const provider = await web3Modal.connect();\n    setInjectedProvider(new Web3Provider(provider));\n  }, [setInjectedProvider]);\n  useEffect(() => {\n    if (web3Modal.cachedProvider) {\n      loadWeb3Modal();\n    }\n  }, [loadWeb3Modal]);\n  const [route, setRoute] = useState();\n  useEffect(() => {\n    setRoute(window.location.pathname);\n  }, [setRoute]);\n  let faucetHint = \"\";\n  const faucetAvailable = localProvider && localProvider.connection && targetNetwork.name == \"localhost\";\n  const [faucetClicked, setFaucetClicked] = useState(false);\n\n  if (!faucetClicked && localProvider && localProvider._network && localProvider._network.chainId == 31337 && yourLocalBalance && formatEther(yourLocalBalance) <= 0) {\n    faucetHint = /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: 16\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      onClick: () => {\n        faucetTx({\n          to: address,\n          value: parseEther(\"0.01\")\n        });\n        setFaucetClicked(true);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }, \"\\uD83D\\uDCB0 Grab funds from the faucet \\u26FD\\uFE0F\"));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }), networkDisplay, /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    style: {\n      textAlign: \"center\"\n    },\n    selectedKeys: [route],\n    mode: \"horizontal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => {\n      setRoute(\"/\");\n    },\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, \"The Contract\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"/Documents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => {\n      setRoute(\"/Documents\");\n    },\n    to: \"/Documents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, \"The Documents\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"/Deliberation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => {\n      setRoute(\"/Deliberation\");\n    },\n    to: \"/Deliberation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, \"Jury Deliberation\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"/Verdict\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => {\n      setRoute(\"/Verdict\");\n    },\n    to: \"/Verdict\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, \"Final Verdict\"))), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Contract, {\n    name: \"YourContract\",\n    signer: userProvider.getSigner(),\n    provider: localProvider,\n    address: address,\n    blockExplorer: blockExplorer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/Documents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Documents, {\n    address: address,\n    yourLocalBalance: yourLocalBalance,\n    mainnetProvider: mainnetProvider,\n    price: price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/Deliberation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Deliberation, {\n    address: address,\n    userProvider: userProvider,\n    mainnetProvider: mainnetProvider,\n    localProvider: localProvider,\n    yourLocalBalance: yourLocalBalance,\n    price: price,\n    tx: tx,\n    writeContracts: writeContracts,\n    readContracts: readContracts,\n    purpose: purpose,\n    count: count,\n    setPurposeEvents: setPurposeEvents,\n    setGuilty: setGuilty,\n    setNotGuilty: setNotGuilty,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/mainnetdai\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Contract, {\n    name: \"DAI\",\n    customContract: mainnetDAIContract,\n    signer: userProvider.getSigner(),\n    provider: mainnetProvider,\n    address: address,\n    blockExplorer: \"https://etherscan.io/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/Verdict\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Verdict, {\n    VerdictUri: props.VerdictUri,\n    tx: tx,\n    writeContracts: writeContracts,\n    address: address,\n    userProvider: userProvider,\n    mainnetProvider: mainnetProvider,\n    localProvider: localProvider,\n    yourLocalBalance: yourLocalBalance,\n    price: price,\n    readContracts: readContracts,\n    purpose: purpose,\n    count: count,\n    setPurposeEvents: setPurposeEvents,\n    setGuilty: setGuilty,\n    setNotGuilty: setNotGuilty,\n    FinalVerdict: FinalVerdict,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(ThemeSwitch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"fixed\",\n      textAlign: \"right\",\n      right: 0,\n      top: 0,\n      padding: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Account, {\n    address: address,\n    localProvider: localProvider,\n    userProvider: userProvider,\n    mainnetProvider: mainnetProvider,\n    price: price,\n    web3Modal: web3Modal,\n    loadWeb3Modal: loadWeb3Modal,\n    logoutOfWeb3Modal: logoutOfWeb3Modal,\n    blockExplorer: blockExplorer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 10\n    }\n  }), faucetHint), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"fixed\",\n      textAlign: \"left\",\n      left: 0,\n      bottom: 20,\n      padding: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    align: \"middle\",\n    gutter: [4, 4],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Ramp, {\n    price: price,\n    address: address,\n    networks: NETWORKS,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 14\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    span: 8,\n    style: {\n      textAlign: \"center\",\n      opacity: 0.8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(GasGauge, {\n    gasPrice: gasPrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 14\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    span: 8,\n    style: {\n      textAlign: \"center\",\n      opacity: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      window.open(\"https://t.me/joinchat/arw3PGCLu0Q3ZjZk\");\n    },\n    size: \"large\",\n    shape: \"round\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      marginRight: 8\n    },\n    role: \"img\",\n    \"aria-label\": \"support\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 16\n    }\n  }, \"\\uD83D\\uDCAC\"), \"Deliberate\"))), /*#__PURE__*/React.createElement(Row, {\n    align: \"middle\",\n    gutter: [4, 4],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 12\n    }\n  },\n  /*  if the local provider has a signer, let's show the faucet:  */\n  faucetAvailable ? /*#__PURE__*/React.createElement(Faucet, {\n    localProvider: localProvider,\n    price: price,\n    ensProvider: mainnetProvider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 18\n    }\n  }) : \"\"))));\n}\n\nconst web3Modal = new Web3Modal({\n  // network: \"mainnet\", // optional\n  cacheProvider: true,\n  // optional\n  providerOptions: {\n    walletconnect: {\n      package: WalletConnectProvider,\n      // required\n      options: {\n        infuraId: INFURA_ID\n      }\n    }\n  }\n});\n\nconst logoutOfWeb3Modal = async () => {\n  await web3Modal.clearCachedProvider();\n  setTimeout(() => {\n    window.location.reload();\n  }, 1);\n};\n\nwindow.ethereum && window.ethereum.on('chainChanged', chainId => {\n  web3Modal.cachedProvider && setTimeout(() => {\n    window.location.reload();\n  }, 1);\n});\nwindow.ethereum && window.ethereum.on('accountsChanged', accounts => {\n  web3Modal.cachedProvider && setTimeout(() => {\n    window.location.reload();\n  }, 1);\n});\nexport default App;","map":{"version":3,"sources":["/home/dylan/Desktop/JuryDapp/packages/react-app/src/App.jsx"],"names":["React","useCallback","useEffect","useState","BrowserRouter","Switch","Route","Link","StaticJsonRpcProvider","JsonRpcProvider","Web3Provider","Row","Col","Button","Menu","Alert","SwitchD","Web3Modal","WalletConnectProvider","useUserAddress","useExchangePrice","useGasPrice","useUserProvider","useContractLoader","useContractReader","useEventListener","useBalance","useExternalContractLoader","useOnBlock","Header","Account","Faucet","Ramp","Contract","GasGauge","ThemeSwitch","Transactor","formatEther","parseEther","Documents","Deliberation","Verdict","useThemeSwitcher","INFURA_ID","DAI_ADDRESS","DAI_ABI","NETWORK","NETWORKS","targetNetwork","DEBUG","console","log","scaffoldEthProvider","mainnetInfura","localProviderUrl","rpcUrl","localProviderUrlFromEnv","process","env","REACT_APP_PROVIDER","localProvider","blockExplorer","App","props","mainnetProvider","_network","injectedProvider","setInjectedProvider","price","gasPrice","userProvider","address","localChainId","chainId","selectedChainId","tx","faucetTx","yourLocalBalance","yourMainnetBalance","readContracts","writeContracts","mainnetDAIContract","_lastBlockNumber","myMainnetDAIBalance","DAI","purpose","count","setPurposeEvents","setGuilty","setNotGuilty","FinalVerdict","networkDisplay","zIndex","position","right","top","padding","name","color","loadWeb3Modal","provider","web3Modal","connect","cachedProvider","route","setRoute","window","location","pathname","faucetHint","faucetAvailable","connection","faucetClicked","setFaucetClicked","to","value","textAlign","getSigner","VerdictUri","logoutOfWeb3Modal","left","bottom","opacity","open","marginRight","cacheProvider","providerOptions","walletconnect","package","options","infuraId","clearCachedProvider","setTimeout","reload","ethereum","on","accounts"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\nimport {  StaticJsonRpcProvider, JsonRpcProvider, Web3Provider } from \"@ethersproject/providers\";\nimport \"./App.css\";\nimport { Row, Col, Button, Menu, Alert, Switch as SwitchD } from \"antd\";\nimport Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport { useUserAddress } from \"eth-hooks\";\nimport { useExchangePrice, useGasPrice, useUserProvider, useContractLoader, useContractReader, useEventListener, useBalance, useExternalContractLoader, useOnBlock } from \"./hooks\";\nimport { Header, Account, Faucet, Ramp, Contract, GasGauge, ThemeSwitch } from \"./components\";\nimport { Transactor } from \"./helpers\";\nimport { formatEther, parseEther } from \"@ethersproject/units\";\n//import Documents from \"./Documents\";\nimport { Documents, Deliberation, Verdict } from \"./views\"\nimport { useThemeSwitcher } from \"react-css-theme-switcher\";\nimport { INFURA_ID, DAI_ADDRESS, DAI_ABI, NETWORK, NETWORKS } from \"./constants\";\n\n\n\n/// 📡 What chain are contracts deployed to?\nconst targetNetwork = NETWORKS['localhost']; \nconst DEBUG = true\n\n\n// 🛰 providers\nif(DEBUG) console.log(\"📡 Connecting to Mainnet Ethereum\");\n\nconst scaffoldEthProvider = new StaticJsonRpcProvider(\"https://rpc.scaffoldeth.io:48544\")\nconst mainnetInfura = new StaticJsonRpcProvider(\"https://mainnet.infura.io/v3/\" + INFURA_ID)\n\nconst localProviderUrl = targetNetwork.rpcUrl;\n\nconst localProviderUrlFromEnv = process.env.REACT_APP_PROVIDER ? process.env.REACT_APP_PROVIDER : localProviderUrl;\nif(DEBUG) console.log(\"🏠 Connecting to provider:\", localProviderUrlFromEnv);\nconst localProvider = new StaticJsonRpcProvider(localProviderUrlFromEnv);\n\n\n// 🔭 block explorer URL\nconst blockExplorer = targetNetwork.blockExplorer;\n\n\nfunction App(props) {\n\n  const mainnetProvider = (scaffoldEthProvider && scaffoldEthProvider._network) ? scaffoldEthProvider : mainnetInfura\n\n  const [injectedProvider, setInjectedProvider] = useState();  /* 💵 This hook will get the price of ETH from 🦄 Uniswap: */\n  const price = useExchangePrice(targetNetwork,mainnetProvider);\n\n  const gasPrice = useGasPrice(targetNetwork,\"fast\");\n  const userProvider = useUserProvider(injectedProvider, localProvider);\n  const address = useUserAddress(userProvider);\n\n  let localChainId = localProvider && localProvider._network && localProvider._network.chainId\n  let selectedChainId = userProvider && userProvider._network && userProvider._network.chainId\n\n  \n  const tx = Transactor(userProvider, gasPrice)\n\n  // Faucet Tx can be used to send funds from the faucet\n  const faucetTx = Transactor(localProvider, gasPrice)\n\n \n  const yourLocalBalance = useBalance(localProvider, address);\n\n  const yourMainnetBalance = useBalance(mainnetProvider, address);\n\n  \n  const readContracts = useContractLoader(localProvider)\n\n  \n  const writeContracts = useContractLoader(userProvider)\n\n \n  const mainnetDAIContract = useExternalContractLoader(mainnetProvider, DAI_ADDRESS, DAI_ABI)\n\n\n  useOnBlock(mainnetProvider, () => {\n    console.log(`⛓ A new mainnet block is here: ${mainnetProvider._lastBlockNumber}`)\n  })\n\n\n  const myMainnetDAIBalance = useContractReader({DAI: mainnetDAIContract},\"DAI\", \"balanceOf\",[\"0x34aA3F359A9D614239015126635CE7732c18fDF3\"])\n\n \n  const purpose = useContractReader(readContracts,\"YourContract\", \"time\")\n  const count = useContractReader(readContracts,\"YourContract\", \"count\")\n\n  //📟 Listen for broadcast events\n  const setPurposeEvents = useEventListener(readContracts, \"YourContract\", \"register\", localProvider,0);\n  const setGuilty = useEventListener(readContracts, \"YourContract\", \"setGuilty\", localProvider,1);\n  const setNotGuilty = useEventListener(readContracts, \"YourContract\", \"setNotGuilty\", localProvider,1);\n  const FinalVerdict = useEventListener(readContracts, \"YourContract\", \"FinalVerdict\", localProvider,0);\n  \n \n  useEffect(()=>{\n    if(DEBUG && mainnetProvider && address && selectedChainId && yourLocalBalance && yourMainnetBalance && readContracts && writeContracts && mainnetDAIContract){\n      console.log(\"_____________________________________ 🏗 scaffold-eth _____________________________________\")\n      console.log(\"🌎 mainnetProvider\",mainnetProvider)\n      console.log(\"🏠 localChainId\",localChainId)\n      console.log(\"👩‍💼 selected address:\",address)\n      console.log(\"🕵🏻‍♂️ selectedChainId:\",selectedChainId)\n      console.log(\"💵 yourLocalBalance\",yourLocalBalance?formatEther(yourLocalBalance):\"...\")\n      console.log(\"💵 yourMainnetBalance\",yourMainnetBalance?formatEther(yourMainnetBalance):\"...\")\n      console.log(\"📝 readContracts\",readContracts)\n      console.log(\"🌍 DAI contract on mainnet:\",mainnetDAIContract)\n      console.log(\"🔐 writeContracts\",writeContracts)\n    }\n  }, [mainnetProvider, address, selectedChainId, yourLocalBalance, yourMainnetBalance, readContracts, writeContracts, mainnetDAIContract])\n\n\n  let networkDisplay = \"\"\n  if(localChainId && selectedChainId && localChainId != selectedChainId ){\n    networkDisplay = (\n      <div style={{zIndex:2, position:'absolute', right:0,top:60,padding:16}}>\n        <Alert\n          message={\"⚠️ Wrong Network\"}\n          description={(\n            <div>\n              You have <b>{NETWORK(selectedChainId).name}</b> selected and you need to be on <b>{NETWORK(localChainId).name}</b>.\n            </div>\n          )}\n          type=\"error\"\n          closable={false}\n        />\n      </div>\n    )\n  }else{\n    networkDisplay = (\n      <div style={{zIndex:-1, position:'absolute', right:154,top:28,padding:16,color:targetNetwork.color}}>\n        {targetNetwork.name}\n      </div>\n    )\n  }\n\n  const loadWeb3Modal = useCallback(async () => {\n    const provider = await web3Modal.connect();\n    setInjectedProvider(new Web3Provider(provider));\n  }, [setInjectedProvider]);\n\n  useEffect(() => {\n    if (web3Modal.cachedProvider) {\n      loadWeb3Modal();\n    }\n  }, [loadWeb3Modal]);\n\n  const [route, setRoute] = useState();\n  useEffect(() => {\n    setRoute(window.location.pathname)\n  }, [setRoute]);\n\n  let faucetHint = \"\"\n  const faucetAvailable = localProvider && localProvider.connection && targetNetwork.name == \"localhost\"\n\n  const [ faucetClicked, setFaucetClicked ] = useState( false );\n  if(!faucetClicked&&localProvider&&localProvider._network&&localProvider._network.chainId==31337&&yourLocalBalance&&formatEther(yourLocalBalance)<=0){\n    faucetHint = (\n      <div style={{padding:16}}>\n        <Button type={\"primary\"} onClick={()=>{\n          faucetTx({\n            to: address,\n            value: parseEther(\"0.01\"),\n          });\n          setFaucetClicked(true)\n        }}>\n          💰 Grab funds from the faucet ⛽️\n        </Button>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"App\">\n\n      <Header />\n      {networkDisplay}\n      <BrowserRouter>\n\n        <Menu style={{ textAlign:\"center\" }} selectedKeys={[route]} mode=\"horizontal\">\n          <Menu.Item key=\"/\">\n            <Link onClick={()=>{setRoute(\"/\")}} to=\"/\">The Contract</Link>\n          </Menu.Item>\n          <Menu.Item key=\"/Documents\">\n            <Link onClick={()=>{setRoute(\"/Documents\")}} to=\"/Documents\">The Documents</Link>\n          </Menu.Item>\n          <Menu.Item key=\"/Deliberation\">\n            <Link onClick={()=>{setRoute(\"/Deliberation\")}} to=\"/Deliberation\">Jury Deliberation</Link>\n          </Menu.Item>\n          <Menu.Item key=\"/Verdict\">\n            <Link onClick={()=>{setRoute(\"/Verdict\")}} to=\"/Verdict\">Final Verdict</Link>\n          </Menu.Item>\n        </Menu>\n\n        <Switch>\n          <Route exact path=\"/\">\n\n\n            <Contract\n              name=\"YourContract\"\n              signer={userProvider.getSigner()}\n              provider={localProvider}\n              address={address}\n              blockExplorer={blockExplorer}\n            />\n\n\n          </Route>\n          <Route path=\"/Documents\">\n            <Documents\n              address={address}\n              yourLocalBalance={yourLocalBalance}\n              mainnetProvider={mainnetProvider}\n              price={price}\n            />\n          </Route>\n          <Route path=\"/Deliberation\">\n            <Deliberation\n              address={address}\n              userProvider={userProvider}\n              mainnetProvider={mainnetProvider}\n              localProvider={localProvider}\n              yourLocalBalance={yourLocalBalance}\n              price={price}\n              tx={tx}\n              writeContracts={writeContracts}\n              readContracts={readContracts}\n              purpose={purpose}\n              count={count}\n              setPurposeEvents={setPurposeEvents}\n              setGuilty={setGuilty}\n              setNotGuilty={setNotGuilty}\n            />\n          </Route>\n          <Route path=\"/mainnetdai\">\n            <Contract\n              name=\"DAI\"\n              customContract={mainnetDAIContract}\n              signer={userProvider.getSigner()}\n              provider={mainnetProvider}\n              address={address}\n              blockExplorer={\"https://etherscan.io/\"}\n            />\n          </Route>\n          <Route path=\"/Verdict\">\n            <Verdict\n            VerdictUri={props.VerdictUri}\n            tx={tx}\n            writeContracts={writeContracts}\n            address={address}\n            userProvider={userProvider}\n            mainnetProvider={mainnetProvider}\n            localProvider={localProvider}\n            yourLocalBalance={yourLocalBalance}\n            price={price}\n            readContracts={readContracts}\n            purpose={purpose}\n            count={count}\n            setPurposeEvents={setPurposeEvents}\n            setGuilty={setGuilty}\n            setNotGuilty={setNotGuilty}\n            FinalVerdict={FinalVerdict}\n            />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n\n      <ThemeSwitch />\n\n\n\n      <div style={{ position: \"fixed\", textAlign: \"right\", right: 0, top: 0, padding: 10 }}>\n         <Account\n           address={address}\n           localProvider={localProvider}\n           userProvider={userProvider}\n           mainnetProvider={mainnetProvider}\n           price={price}\n           web3Modal={web3Modal}\n           loadWeb3Modal={loadWeb3Modal}\n           logoutOfWeb3Modal={logoutOfWeb3Modal}\n           blockExplorer={blockExplorer}\n         />\n         {faucetHint}\n      </div>\n\n\n       <div style={{ position: \"fixed\", textAlign: \"left\", left: 0, bottom: 20, padding: 10 }}>\n         <Row align=\"middle\" gutter={[4, 4]}>\n           <Col span={8}>\n             <Ramp price={price} address={address} networks={NETWORKS}/>\n           </Col>\n\n           <Col span={8} style={{ textAlign: \"center\", opacity: 0.8 }}>\n             <GasGauge gasPrice={gasPrice} />\n           </Col>\n           <Col span={8} style={{ textAlign: \"center\", opacity: 1 }}>\n             <Button\n               onClick={() => {\n                 window.open(\"https://t.me/joinchat/arw3PGCLu0Q3ZjZk\");\n               }}\n               size=\"large\"\n               shape=\"round\"\n             >\n               <span style={{ marginRight: 8 }} role=\"img\" aria-label=\"support\">\n                 💬\n               </span>\n               Deliberate\n             </Button>\n           </Col>\n         </Row>\n\n         <Row align=\"middle\" gutter={[4, 4]}>\n           <Col span={24}>\n             {\n\n               /*  if the local provider has a signer, let's show the faucet:  */\n               faucetAvailable ? (\n                 <Faucet localProvider={localProvider} price={price} ensProvider={mainnetProvider}/>\n               ) : (\n                 \"\"\n               )\n             }\n           </Col>\n         </Row>\n       </div>\n\n    </div>\n  );\n}\n\n\n\nconst web3Modal = new Web3Modal({\n  // network: \"mainnet\", // optional\n  cacheProvider: true, // optional\n  providerOptions: {\n    walletconnect: {\n      package: WalletConnectProvider, // required\n      options: {\n        infuraId: INFURA_ID,\n      },\n    },\n  },\n});\n\nconst logoutOfWeb3Modal = async () => {\n  await web3Modal.clearCachedProvider();\n  setTimeout(() => {\n    window.location.reload();\n  }, 1);\n};\n\n window.ethereum && window.ethereum.on('chainChanged', chainId => {\n  web3Modal.cachedProvider &&\n  setTimeout(() => {\n    window.location.reload();\n  }, 1);\n})\n\n window.ethereum && window.ethereum.on('accountsChanged', accounts => {\n  web3Modal.cachedProvider &&\n  setTimeout(() => {\n    window.location.reload();\n  }, 1);\n})\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}